(function(){"use strict";var e={1958:function(e,o,t){var l=t(5130),a=t(6768);const i={id:"app"};function s(e,o,t,s,n,r){const c=(0,a.g2)("header-component"),u=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.CE)("div",i,[(0,a.bF)(c),(0,a.bF)(l.eB,{name:"page"},{default:(0,a.k6)((()=>[(0,a.bF)(u)])),_:1})])}var n=t(4232);const r={class:"header-left"},c={class:"logo"},u={class:"nav-links"},d={class:"user-info"},v={class:"user-icon-wrapper"},h={key:0,class:"user-email"};function g(e,o,t,l,i,s){const g=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("header",{class:(0,n.C4)({scrolled:i.isScrolled})},[(0,a.Lk)("div",r,[(0,a.Lk)("div",c,[(0,a.bF)(g,{to:"/",class:"logo-link"},{default:(0,a.k6)((()=>o[1]||(o[1]=[(0,a.Lk)("i",{class:"fas fa-film"},null,-1)]))),_:1})]),(0,a.Lk)("nav",u,[(0,a.bF)(g,{to:"/",class:"icon-link"},{default:(0,a.k6)((()=>o[2]||(o[2]=[(0,a.Lk)("i",{class:"fas fa-home"},null,-1)]))),_:1}),(0,a.bF)(g,{to:"/popular",class:"icon-link"},{default:(0,a.k6)((()=>o[3]||(o[3]=[(0,a.Lk)("i",{class:"fas fa-fire"},null,-1)]))),_:1}),(0,a.bF)(g,{to:"/search",class:"icon-link"},{default:(0,a.k6)((()=>o[4]||(o[4]=[(0,a.Lk)("i",{class:"fas fa-search"},null,-1)]))),_:1}),(0,a.bF)(g,{to:"/wishlist",class:"icon-link"},{default:(0,a.k6)((()=>o[5]||(o[5]=[(0,a.Lk)("i",{class:"fas fa-heart"},null,-1)]))),_:1})])]),(0,a.Lk)("div",d,[(0,a.Lk)("div",v,[o[6]||(o[6]=(0,a.Lk)("i",{class:"fas fa-user"},null,-1)),i.isLoggedIn?((0,a.uX)(),(0,a.CE)("span",h,(0,n.v_)(i.userId),1)):(0,a.Q3)("",!0)]),(0,a.Lk)("button",{onClick:o[0]||(o[0]=(...e)=>s.handleAuthAction&&s.handleAuthAction(...e)),class:"auth-button"},(0,n.v_)(i.isLoggedIn?"Logout":"Login"),1)])],2)}t(4114);function p(e,o,t,l){const a=JSON.parse(localStorage.getItem("users"))||{};a[e]&&a[e]===o?t(o):l()}function m(e,o,t,l){const a=JSON.parse(localStorage.getItem("users"))||{};a[e]?l():(a[e]=o,localStorage.setItem("users",JSON.stringify(a)),t())}const k=async(e,o)=>new Promise(((t,l)=>{p(e,o,(()=>{localStorage.setItem("userId",e),t("로그인 성공")}),(()=>l("로그인 실패: 잘못된 아이디 또는 비밀번호입니다.")))})),f=async(e,o)=>new Promise(((t,l)=>{m(e,o,(()=>t("회원가입 성공")),(()=>l("회원가입 실패: 이미 존재하는 아이디입니다.")))})),M=()=>!!localStorage.getItem("userId")||!!localStorage.getItem("kakaoAccessToken"),w=()=>{localStorage.removeItem("userId"),localStorage.removeItem("kakaoAccessToken"),localStorage.removeItem("kakaoId")};var b={name:"AppHeader",data(){return{isScrolled:!1,isLoggedIn:!1,userId:""}},methods:{handleScroll(){this.isScrolled=window.scrollY>50},handleAuthAction(){this.isLoggedIn?(w(),this.isLoggedIn=!1,this.userId="",this.$router.push("/signin")):this.$router.push("/signin")},updateUserInfo(){this.isLoggedIn=M(),this.userId=localStorage.getItem("userId")||"사용자"}},watch:{isLoggedIn(){this.updateUserInfo()}},mounted(){window.addEventListener("scroll",this.handleScroll),this.updateUserInfo()},unmounted(){window.removeEventListener("scroll",this.handleScroll)}},y=t(1241);const L=(0,y.A)(b,[["render",g],["__scopeId","data-v-a5c0de60"]]);var C=L,S={components:{HeaderComponent:C}};const T=(0,y.A)(S,[["render",s]]);var I=T,A=t(1387);const X={class:"home-page"},P={key:0,class:"loading-spinner"},D={key:0,class:"loading-spinner"},F={key:0,class:"loading-spinner"},E={key:0,class:"loading-spinner"};function R(e,o,t,l,i,s){const n=(0,a.g2)("HeroSection"),r=(0,a.g2)("MovieRow");return(0,a.uX)(),(0,a.CE)("div",X,[i.featuredMovies.length?((0,a.uX)(),(0,a.Wv)(n,{key:0,movies:i.featuredMovies},null,8,["movies"])):(0,a.Q3)("",!0),(0,a.Lk)("section",null,[o[0]||(o[0]=(0,a.Lk)("h2",null,"인기 영화",-1)),i.loadingPopular?((0,a.uX)(),(0,a.CE)("div",P,"로딩 중...")):((0,a.uX)(),(0,a.Wv)(r,{key:1,movies:i.popularMovies,onMovieSelected:s.goToMovieDetail,onToggleFavorite:s.toggleFavorite},null,8,["movies","onMovieSelected","onToggleFavorite"]))]),(0,a.Lk)("section",null,[o[1]||(o[1]=(0,a.Lk)("h2",null,"현재 상영작",-1)),i.loadingNowPlaying?((0,a.uX)(),(0,a.CE)("div",D,"로딩 중...")):((0,a.uX)(),(0,a.Wv)(r,{key:1,movies:i.nowPlayingMovies,onMovieSelected:s.goToMovieDetail,onToggleFavorite:s.toggleFavorite},null,8,["movies","onMovieSelected","onToggleFavorite"]))]),(0,a.Lk)("section",null,[o[2]||(o[2]=(0,a.Lk)("h2",null,"최고 평점 영화",-1)),i.loadingTopRated?((0,a.uX)(),(0,a.CE)("div",F,"로딩 중...")):((0,a.uX)(),(0,a.Wv)(r,{key:1,movies:i.topRatedMovies,onMovieSelected:s.goToMovieDetail,onToggleFavorite:s.toggleFavorite},null,8,["movies","onMovieSelected","onToggleFavorite"]))]),(0,a.Lk)("section",null,[o[3]||(o[3]=(0,a.Lk)("h2",null,"개봉 예정작",-1)),i.loadingUpcoming?((0,a.uX)(),(0,a.CE)("div",E,"로딩 중...")):((0,a.uX)(),(0,a.Wv)(r,{key:1,movies:i.upcomingMovies,onMovieSelected:s.goToMovieDetail,onToggleFavorite:s.toggleFavorite},null,8,["movies","onMovieSelected","onToggleFavorite"]))])])}const U={class:"banner-content"},W={class:"title"},_={class:"overview"},B={class:"button-group"},K={class:"dots"},O=["onClick"],Q=["src"];function V(e,o,t,i,s,r){const c=(0,a.g2)("MovieDetail"),u=(0,a.g2)("ReusableModal");return r.currentMovie?((0,a.uX)(),(0,a.CE)("section",{key:0,class:"hero-slider",style:(0,n.Tr)({backgroundImage:`url(${r.backdropUrl})`})},[(0,a.Lk)("div",U,[(0,a.Lk)("h1",W,(0,n.v_)(r.currentMovie.title),1),(0,a.Lk)("p",_,(0,n.v_)(r.currentMovie.overview),1),(0,a.Lk)("div",B,[(0,a.Lk)("button",{class:"play-btn title-btn",onClick:o[0]||(o[0]=(...e)=>r.playTrailer&&r.playTrailer(...e))},o[5]||(o[5]=[(0,a.Lk)("i",{class:"fas fa-play"},null,-1),(0,a.eW)(" 재생")])),(0,a.Lk)("button",{class:"info-btn title-btn",onClick:o[1]||(o[1]=e=>r.openDetailModal(r.currentMovie))},o[6]||(o[6]=[(0,a.Lk)("i",{class:"fas fa-info-circle"},null,-1),(0,a.eW)("상세 정보")]))])]),(0,a.Lk)("div",K,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.movies,((e,o)=>((0,a.uX)(),(0,a.CE)("span",{key:e.id,class:(0,n.C4)(["dot",{active:s.currentSlide===o}]),onClick:e=>r.goToSlide(o)},null,10,O)))),128))]),(0,a.bF)(u,{visible:s.showDetailModal,onClose:r.closeDetailModal},{default:(0,a.k6)((()=>[s.selectedMovie?((0,a.uX)(),(0,a.Wv)(c,{key:0,id:s.selectedMovie.id},null,8,["id"])):(0,a.Q3)("",!0)])),_:1},8,["visible","onClose"]),s.showTrailerModal?((0,a.uX)(),(0,a.CE)("div",{key:0,class:"modal-overlay",onClick:o[4]||(o[4]=(...e)=>r.closeTrailer&&r.closeTrailer(...e))},[(0,a.Lk)("div",{class:"modal-content",onClick:o[3]||(o[3]=(0,l.D$)((()=>{}),["stop"]))},[s.trailerUrl?((0,a.uX)(),(0,a.CE)("iframe",{key:0,width:"100%",height:"100%",src:`https://www.youtube.com/embed/${s.trailerUrl}`,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""},null,8,Q)):(0,a.Q3)("",!0),(0,a.Lk)("button",{class:"close-btn",onClick:o[2]||(o[2]=(...e)=>r.closeTrailer&&r.closeTrailer(...e))},"닫기")])])):(0,a.Q3)("",!0)],4)):(0,a.Q3)("",!0)}t(8992),t(4520),t(4603),t(7566),t(8721);var J=t(4373);const N="https://api.themoviedb.org/3",x="ko-KR",H={popular:"/movie/popular",nowPlaying:"/movie/now_playing",upcoming:"/movie/upcoming",topRated:"/movie/top_rated",discover:"/discover/movie"},q=()=>"ae551acb587870f6d116fb74e4e9fe28",j=async(e,o=1,t={})=>{const l=q();if(!l)return console.error("API 키가 설정되지 않았습니다. 로그인 필요"),[];try{const a=new URLSearchParams({api_key:l,language:x,page:o,...t}).toString(),i=`${N}${H[e]}?${a}`,s=await J.A.get(i);return s.data.results||[]}catch(a){return console.error(`영화 데이터를 불러오는 중 오류가 발생했습니다 (${e}):`,a.message),[]}},Y=async e=>{const o=q();if(!o)return console.error("API 키가 설정되지 않았습니다. 로그인 필요"),null;try{const t=`${N}/movie/${e}?api_key=${o}&language=${x}`,l=await J.A.get(t);return l.data}catch(t){return console.error(`영화 상세 정보를 가져오는 중 오류가 발생했습니다 (movieId: ${e}):`,t.message),null}},z=async(e,o=1)=>await j("discover",o,{with_genres:e}),$=async(e,o=1)=>await j("discover",o,{"vote_average.gte":e}),G=async(e,o,t=1)=>await j("discover",t,{with_genres:e,"vote_average.gte":o}),Z=async(e,o=1)=>{const t=q();if(!t)return console.error("API 키가 설정되지 않았습니다. 로그인 필요"),[];try{const l=`${N}/search/movie?api_key=${t}&language=${x}&query=${encodeURIComponent(e)}&page=${o}`,a=await J.A.get(l);return a.data.results||[]}catch(l){return console.error(`영화 검색 중 오류가 발생했습니다 (query: ${e}):`,l.message),[]}},ee=async(e=1)=>await j("popular",e),oe=async(e=1)=>await j("nowPlaying",e),te=async(e=1)=>await j("upcoming",e),le=async(e=1)=>await j("topRated",e),ae=async e=>{const o=q();if(!o)return console.error("API 키가 설정되지 않았습니다. 로그인 필요"),null;try{const t=`${N}/movie/${e}/videos?api_key=${o}&language=${x}`,l=await J.A.get(t),a=l.data.results.filter((e=>"Trailer"===e.type&&"YouTube"===e.site));return a.length?a[0].key:null}catch(t){return console.error(`예고편 데이터를 불러오는 중 오류가 발생했습니다 (movieId: ${e}):`,t.message),null}};function ie(e,o,t,i,s,n){return(0,a.uX)(),(0,a.Wv)(l.eB,{name:"fade-zoom"},{default:(0,a.k6)((()=>[t.visible?((0,a.uX)(),(0,a.CE)("div",{key:0,class:"modal-overlay",onClick:o[2]||(o[2]=(...e)=>n.closeModal&&n.closeModal(...e))},[(0,a.Lk)("div",{class:"modal-content",onClick:o[1]||(o[1]=(0,l.D$)((()=>{}),["stop"]))},[(0,a.RG)(e.$slots,"default",{},void 0,!0),(0,a.Lk)("button",{class:"close-btn",onClick:o[0]||(o[0]=(...e)=>n.closeModal&&n.closeModal(...e))},"닫기")])])):(0,a.Q3)("",!0)])),_:3})}var se={name:"ReusableModal",props:{visible:{type:Boolean,required:!0}},emits:["close"],methods:{closeModal(){this.$emit("close")}}};const ne=(0,y.A)(se,[["render",ie],["__scopeId","data-v-5a092d7a"]]);var re=ne;const ce={key:0,class:"movie-detail"},ue={class:"overlay"},de={class:"buttons"},ve=["src"],he={key:1};function ge(e,o,t,i,s,r){return s.movie?((0,a.uX)(),(0,a.CE)("div",ce,[(0,a.Lk)("div",{class:"movie-header",style:(0,n.Tr)({backgroundImage:`url(${r.backdropUrl})`})},[(0,a.Lk)("div",ue,[(0,a.Lk)("h1",null,(0,n.v_)(s.movie.title),1),(0,a.Lk)("p",null,(0,n.v_)(s.movie.overview),1),(0,a.Lk)("div",de,[(0,a.Lk)("button",{class:"play-btn",onClick:o[0]||(o[0]=(...e)=>r.playTrailer&&r.playTrailer(...e))},"예고편 재생"),(0,a.Lk)("span",null,"평점: "+(0,n.v_)(s.movie.vote_average),1)])])],4),s.showTrailerModal?((0,a.uX)(),(0,a.CE)("div",{key:0,class:"modal-overlay",onClick:o[3]||(o[3]=(...e)=>r.closeTrailer&&r.closeTrailer(...e))},[(0,a.Lk)("div",{class:"modal-content",onClick:o[2]||(o[2]=(0,l.D$)((()=>{}),["stop"]))},[s.trailerUrl?((0,a.uX)(),(0,a.CE)("iframe",{key:0,width:"100%",height:"100%",src:`https://www.youtube.com/embed/${s.trailerUrl}`,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""},null,8,ve)):(0,a.Q3)("",!0),(0,a.Lk)("button",{class:"close-btn",onClick:o[1]||(o[1]=(...e)=>r.closeTrailer&&r.closeTrailer(...e))},"닫기")])])):(0,a.Q3)("",!0)])):((0,a.uX)(),(0,a.CE)("p",he,"영화 데이터를 불러오는 중..."))}var pe={name:"MovieDetail",props:["id"],data(){return{movie:null,showTrailerModal:!1,trailerUrl:null}},computed:{backdropUrl(){return this.movie?`https://image.tmdb.org/t/p/original${this.movie.backdrop_path}`:""}},methods:{async loadMovieDetails(){this.movie=await Y(this.id)},async playTrailer(){const e=await ae(this.id);e?(this.trailerUrl=e,this.showTrailerModal=!0):alert("예고편을 찾을 수 없습니다.")},closeTrailer(){this.showTrailerModal=!1,this.trailerUrl=null}},async created(){await this.loadMovieDetails()}};const me=(0,y.A)(pe,[["render",ge],["__scopeId","data-v-2849684e"]]);var ke=me,fe={name:"HeroSection",components:{ReusableModal:re,MovieDetail:ke},props:{movies:{type:Array,required:!0,default:()=>[]}},data(){return{currentSlide:0,showTrailerModal:!1,trailerUrl:null,slideInterval:null,isLoading:!0,showDetailModal:!1,selectedMovie:null}},computed:{currentMovie(){return this.movies[this.currentSlide]},backdropUrl(){return this.currentMovie?`https://image.tmdb.org/t/p/original${this.currentMovie.backdrop_path}`:""}},methods:{async playTrailer(){if(this.currentMovie){const e=await ae(this.currentMovie.id);e?(this.trailerUrl=e,this.showTrailerModal=!0):alert("예고편을 찾을 수 없습니다.")}},closeTrailer(){this.showTrailerModal=!1,this.trailerUrl=null},openDetailModal(e){this.selectedMovie=e,this.showDetailModal=!0},closeDetailModal(){this.showDetailModal=!1,this.selectedMovie=null},goToSlide(e){this.currentSlide=e,clearInterval(this.slideInterval),this.startAutoSlide()},startAutoSlide(){this.movies.length>1&&(this.slideInterval=setInterval((()=>{this.currentSlide=(this.currentSlide+1)%this.movies.length}),1e4))}},mounted(){this.movies.length>0&&(this.isLoading=!1,this.startAutoSlide()),this.startAutoSlide()},beforeUnmount(){clearInterval(this.slideInterval)}};const Me=(0,y.A)(fe,[["render",V],["__scopeId","data-v-65992854"]]);var we=Me;const be={class:"movie-row-container"},ye={ref:"movieRow",class:"movie-row"},Le=["onMouseover"],Ce={class:"poster-container"},Se=["src","alt","onClick"],Te=["onClick"],Ie={class:"movie-title"};function Ae(e,o,t,i,s,r){const c=(0,a.g2)("MovieDetail"),u=(0,a.g2)("ReusableModal");return(0,a.uX)(),(0,a.CE)("div",be,[(0,a.Lk)("button",{class:"scroll-button left",onClick:o[0]||(o[0]=(...e)=>r.scrollLeft&&r.scrollLeft(...e))},o[3]||(o[3]=[(0,a.Lk)("i",{class:"fas fa-chevron-left"},null,-1)])),(0,a.Lk)("div",ye,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.movies,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.id,class:"movie-item",onMouseover:o=>s.hover=e.id,onMouseleave:o[1]||(o[1]=e=>s.hover=null)},[(0,a.Lk)("div",Ce,[(0,a.Lk)("img",{src:`https://image.tmdb.org/t/p/w500${e.poster_path}`,alt:e.title,class:(0,n.C4)({hover:s.hover===e.id}),onClick:o=>r.handleMovieClick(e.id)},null,10,Se),(0,a.Lk)("button",{class:(0,n.C4)(["wishlist-btn",{active:r.isInWishlist(e.id)}]),onClick:(0,l.D$)((o=>r.toggleWishlist(e)),["stop"])},[(0,a.Lk)("i",{class:(0,n.C4)(r.isInWishlist(e.id)?"fas fa-star":"far fa-star")},null,2)],10,Te)]),(0,a.Lk)("p",Ie,(0,n.v_)(e.title),1)],40,Le)))),128))],512),(0,a.Lk)("button",{class:"scroll-button right",onClick:o[2]||(o[2]=(...e)=>r.scrollRight&&r.scrollRight(...e))},o[4]||(o[4]=[(0,a.Lk)("i",{class:"fas fa-chevron-right"},null,-1)])),(0,a.bF)(u,{visible:s.showDetailModal,onClose:r.closeDetailModal},{default:(0,a.k6)((()=>[s.selectedMovie?((0,a.uX)(),(0,a.Wv)(c,{key:0,id:s.selectedMovie.id},null,8,["id"])):(0,a.Q3)("",!0)])),_:1},8,["visible","onClose"])])}t(2577),t(7550);function Xe(){return JSON.parse(localStorage.getItem("wishlist"))||[]}function Pe(e){localStorage.setItem("wishlist",JSON.stringify(e))}function De(e){const o=Xe();o.find((o=>o.id===e.id))||(o.push(e),Pe(o))}function Fe(e){const o=Xe().filter((o=>o.id!==e));Pe(o)}function Ee(e){return Xe().some((o=>o.id===e))}function Re(){return JSON.parse(localStorage.getItem("recentSearches"))||[]}function Ue(e){if(!e.trim())return;const o=Re(),t=[e,...o.filter((o=>o!==e))].slice(0,10);localStorage.setItem("recentSearches",JSON.stringify(t))}function We(e){const o=Re().filter((o=>o!==e));localStorage.setItem("recentSearches",JSON.stringify(o))}function _e(){localStorage.removeItem("recentSearches")}var Be={components:{ReusableModal:re,MovieDetail:ke},props:{movies:{type:Array,default:()=>[]}},data(){return{hover:null,showDetailModal:!1,selectedMovie:null}},methods:{scrollLeft(){this.$refs.movieRow.scrollBy({left:-300,behavior:"smooth"})},scrollRight(){this.$refs.movieRow.scrollBy({left:300,behavior:"smooth"})},handleMovieClick(e){const o=this.movies.find((o=>o.id===e));o&&(this.selectedMovie=o,this.showDetailModal=!0)},closeDetailModal(){this.showDetailModal=!1,this.selectedMovie=null},toggleWishlist(e){Ee(e.id)?Fe(e.id):De(e),this.$forceUpdate()},isInWishlist(e){return Ee(e)}}};const Ke=(0,y.A)(Be,[["render",Ae],["__scopeId","data-v-981fa302"]]);var Oe=Ke,Qe={components:{HeroSection:we,MovieRow:Oe},data(){return{featuredMovies:[],popularMovies:[],nowPlayingMovies:[],topRatedMovies:[],upcomingMovies:[],loadingPopular:!0,loadingNowPlaying:!0,loadingTopRated:!0,loadingUpcoming:!0,favoriteMovies:JSON.parse(localStorage.getItem("favoriteMovies"))||[]}},methods:{async loadMovies(){try{this.popularMovies=await ee(),this.loadingPopular=!1,this.nowPlayingMovies=await oe(),this.loadingNowPlaying=!1,this.topRatedMovies=await le(),this.loadingTopRated=!1,this.upcomingMovies=await te(),this.loadingUpcoming=!1,this.featuredMovies=this.popularMovies.slice(0,5)}catch(e){console.error("영화 데이터를 로드하는 중 오류가 발생했습니다:",e)}},toggleFavorite(e){const o=this.favoriteMovies.findIndex((o=>o.id===e.id));o>=0?this.favoriteMovies.splice(o,1):this.favoriteMovies.push(e),localStorage.setItem("favoriteMovies",JSON.stringify(this.favoriteMovies))},goToMovieDetail(e){this.$router.push({name:"MovieDetail",params:{id:e}})}},mounted(){this.loadMovies()}};const Ve=(0,y.A)(Qe,[["render",R],["__scopeId","data-v-1e0f524e"]]);var Je=Ve;const Ne={class:"popular-movies"},xe={class:"view-toggle-container"},He={class:"view-toggle"};function qe(e,o,t,l,i,s){const r=(0,a.g2)("TableView"),c=(0,a.g2)("InfiniteScrollView");return(0,a.uX)(),(0,a.CE)("div",Ne,[(0,a.Lk)("div",xe,[(0,a.Lk)("div",He,[(0,a.Lk)("button",{onClick:o[0]||(o[0]=e=>l.changeView("table")),class:(0,n.C4)({active:"table"===l.viewMode})},o[2]||(o[2]=[(0,a.Lk)("i",{class:"fas fa-table"},null,-1)]),2),(0,a.Lk)("button",{onClick:o[1]||(o[1]=e=>l.changeView("infinite")),class:(0,n.C4)({active:"infinite"===l.viewMode})},o[3]||(o[3]=[(0,a.Lk)("i",{class:"fas fa-infinity"},null,-1)]),2)])]),"table"===l.viewMode?((0,a.uX)(),(0,a.Wv)(r,{key:0,movies:l.movies,currentPage:l.currentPage,hasMorePages:l.hasMorePages,onFetchPage:l.fetchMovies,onMovieSelected:l.goToMovieDetail},null,8,["movies","currentPage","hasMorePages","onFetchPage","onMovieSelected"])):(0,a.Q3)("",!0),"infinite"===l.viewMode?((0,a.uX)(),(0,a.Wv)(c,{key:1,movies:l.movies,loading:l.loading,onLoadMore:l.loadMoreMovies,onMovieSelected:l.goToMovieDetail},null,8,["movies","loading","onLoadMore","onMovieSelected"])):(0,a.Q3)("",!0)])}var je=t(144);function Ye(e="popular"){const o=(0,je.KR)([]),t=(0,je.KR)(!0),l=(0,je.KR)(1),a=(0,je.KR)(!0),i=async(i,s=!1)=>{t.value=!0;try{let t;switch(e){case"popular":t=await ee(i);break;case"nowPlaying":t=await oe(i);break;case"topRated":t=await le(i);break;case"upcoming":t=await te(i);break;default:console.error("잘못된 카테고리입니다."),t=[]}o.value=s?[...o.value,...t]:t,l.value=i,a.value=t.length>0}catch(n){console.error("영화 데이터를 불러오는 중 오류:",n)}finally{t.value=!1}},s=async()=>{!t.value&&a.value&&await i(l.value+1,!0)};return{movies:o,loading:t,currentPage:l,hasMorePages:a,fetchMovies:i,loadMoreMovies:s}}const ze={class:"table-view"},$e={class:"poster-container"},Ge=["src","alt","onClick"],Ze=["onClick"],eo={class:"movie-title"},oo={class:"pagination"},to=["disabled"],lo=["disabled"];function ao(e,o,t,i,s,r){const c=(0,a.g2)("MovieDetail"),u=(0,a.g2)("ReusableModal");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",ze,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.movies,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.id,class:"movie-item"},[(0,a.Lk)("div",$e,[(0,a.Lk)("img",{src:`https://image.tmdb.org/t/p/w500${e.poster_path}`,alt:e.title,class:"poster-image",onClick:o=>r.selectMovie(e.id)},null,8,Ge),(0,a.Lk)("button",{class:(0,n.C4)(["wishlist-btn",{active:r.isInWishlist(e.id)}]),onClick:(0,l.D$)((o=>r.toggleWishlist(e)),["stop"])},[(0,a.Lk)("i",{class:(0,n.C4)(r.isInWishlist(e.id)?"fas fa-star":"far fa-star")},null,2)],10,Ze)]),(0,a.Lk)("h3",eo,(0,n.v_)(e.title),1)])))),128)),(0,a.Lk)("div",oo,[(0,a.Lk)("button",{onClick:o[0]||(o[0]=o=>e.$emit("fetchPage",t.currentPage-1)),disabled:1===t.currentPage}," 이전 ",8,to),(0,a.Lk)("span",null,(0,n.v_)(t.currentPage),1),(0,a.Lk)("button",{onClick:o[1]||(o[1]=o=>e.$emit("fetchPage",t.currentPage+1)),disabled:!t.hasMorePages}," 다음 ",8,lo)])]),(0,a.bF)(u,{visible:s.showDetailModal,onClose:r.closeDetailModal},{default:(0,a.k6)((()=>[s.selectedMovie?((0,a.uX)(),(0,a.Wv)(c,{key:0,id:s.selectedMovie.id},null,8,["id"])):(0,a.Q3)("",!0)])),_:1},8,["visible","onClose"])],64)}var io={name:"TableView",components:{MovieDetail:ke,ReusableModal:re},data(){return{showDetailModal:!1,selectedMovie:null}},props:{movies:Array,currentPage:Number,hasMorePages:Boolean},methods:{selectMovie(e){const o=this.movies.find((o=>o.id===e));o&&(this.selectedMovie=o,this.showDetailModal=!0)},closeDetailModal(){this.showDetailModal=!1,this.selectedMovie=null},toggleWishlist(e){Ee(e.id)?Fe(e.id):De(e),this.$forceUpdate()},isInWishlist(e){return Ee(e)}}};const so=(0,y.A)(io,[["render",ao],["__scopeId","data-v-2305ce56"]]);var no=so;const ro={class:"infinite-scroll"},co={class:"poster-container"},uo=["src","alt","onClick"],vo=["onClick"],ho={class:"movie-title"},go={key:0,class:"loading"};function po(e,o,t,i,s,r){const c=(0,a.g2)("MovieDetail"),u=(0,a.g2)("ReusableModal");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",ro,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.movies,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.id,class:"movie-item"},[(0,a.Lk)("div",co,[(0,a.Lk)("img",{src:`https://image.tmdb.org/t/p/w500${e.poster_path}`,alt:e.title,class:"poster-image",onClick:o=>r.selectMovie(e.id)},null,8,uo),(0,a.Lk)("button",{class:(0,n.C4)(["wishlist-btn",{active:r.isInWishlist(e.id)}]),onClick:(0,l.D$)((o=>r.toggleWishlist(e)),["stop"])},[(0,a.Lk)("i",{class:(0,n.C4)(r.isInWishlist(e.id)?"fas fa-star":"far fa-star")},null,2)],10,vo)]),(0,a.Lk)("h3",ho,(0,n.v_)(e.title),1)])))),128)),t.loading?((0,a.uX)(),(0,a.CE)("div",go,o[1]||(o[1]=[(0,a.Lk)("div",{class:"spinner"},null,-1),(0,a.Lk)("p",{class:"loading-text"},"영화 데이터를 불러오는 중입니다...",-1)]))):(0,a.Q3)("",!0),s.showTopButton?((0,a.uX)(),(0,a.CE)("button",{key:1,class:"top-button",onClick:o[0]||(o[0]=(...e)=>r.scrollToTop&&r.scrollToTop(...e))},o[2]||(o[2]=[(0,a.Lk)("i",{class:"fas fa-arrow-up"},null,-1)]))):(0,a.Q3)("",!0)]),(0,a.bF)(u,{visible:s.showDetailModal,onClose:r.closeDetailModal},{default:(0,a.k6)((()=>[s.selectedMovie?((0,a.uX)(),(0,a.Wv)(c,{key:0,id:s.selectedMovie.id},null,8,["id"])):(0,a.Q3)("",!0)])),_:1},8,["visible","onClose"])],64)}var mo={name:"InfiniteScrollView",components:{ReusableModal:re,MovieDetail:ke},props:{movies:Array,loading:Boolean},data(){return{showTopButton:!1,showDetailModal:!1,selectedMovie:null}},mounted(){window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){const e=window.innerHeight+window.scrollY>=document.documentElement.offsetHeight-100;e&&!this.loading&&this.$emit("loadMore"),this.showTopButton=window.scrollY>400},selectMovie(e){const o=this.movies.find((o=>o.id===e));o&&(this.selectedMovie=o,this.showDetailModal=!0)},closeDetailModal(){this.showDetailModal=!1,this.selectedMovie=null},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})},toggleWishlist(e){console.log("Toggling wishlist for movie: ",e),Ee(e.id)?(console.log("Removing from wishlist: ",e.id),Fe(e.id)):(console.log("Adding to wishlist: ",e),De(e)),this.$forceUpdate()},isInWishlist(e){return Ee(e)}}};const ko=(0,y.A)(mo,[["render",po],["__scopeId","data-v-9ac72b6e"]]);var fo=ko,Mo={name:"PopularMovies",components:{TableView:no,InfiniteScrollView:fo},setup(){const{movies:e,loading:o,currentPage:t,hasMorePages:l,fetchMovies:i,loadMoreMovies:s}=Ye(),n=(0,je.KR)("table"),r=(0,A.rd)(),c=e=>{n.value=e,i(1,!1)},u=e=>{r.push({name:"MovieDetail",params:{id:e}})};return(0,a.sV)((()=>{i(t.value,!1)})),{movies:e,loading:o,currentPage:t,hasMorePages:l,viewMode:n,changeView:c,goToMovieDetail:u,fetchMovies:i,loadMoreMovies:s}}};const wo=(0,y.A)(Mo,[["render",qe],["__scopeId","data-v-3f4e7341"]]);var bo=wo;const yo={class:"search-movies"},Lo={class:"search-bar"},Co={key:0,class:"recent-searches"},So=["onClick"],To=["onClick"],Io={key:1,class:"filter-section"},Ao={key:2,class:"loading"};function Xo(e,o,t,i,s,r){const c=(0,a.g2)("SearchFilter"),u=(0,a.g2)("TableView");return(0,a.uX)(),(0,a.CE)("div",yo,[(0,a.Lk)("div",Lo,[(0,a.bo)((0,a.Lk)("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=e=>i.searchQuery=e),placeholder:"제목으로 검색하세요",onKeyup:o[1]||(o[1]=(0,l.jR)(((...e)=>i.applySearch&&i.applySearch(...e)),["enter"]))},null,544),[[l.Jo,i.searchQuery]]),(0,a.Lk)("button",{onClick:o[2]||(o[2]=(...e)=>i.applySearch&&i.applySearch(...e))},o[4]||(o[4]=[(0,a.Lk)("i",{class:"fas fa-search"},null,-1)]))]),i.recentSearches.length?((0,a.uX)(),(0,a.CE)("div",Co,[o[5]||(o[5]=(0,a.Lk)("h4",null,"최근 검색어",-1)),(0,a.Lk)("ul",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(i.recentSearches,(e=>((0,a.uX)(),(0,a.CE)("li",{key:e},[(0,a.Lk)("span",{onClick:o=>i.selectRecentSearch(e),class:"search-text"},(0,n.v_)(e),9,So),(0,a.Lk)("button",{onClick:o=>i.removeSearch(e),class:"remove-btn"},"❌",8,To)])))),128))]),(0,a.Lk)("button",{class:"clear-btn",onClick:o[3]||(o[3]=(...e)=>i.clearSearchHistory&&i.clearSearchHistory(...e))},"전체 기록 삭제")])):(0,a.Q3)("",!0),i.searchQuery?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",Io,[(0,a.bF)(c,{onApplyFilters:i.applyFilters,onClearFilters:i.clearFilters},null,8,["onApplyFilters","onClearFilters"])])),i.loading?((0,a.uX)(),(0,a.CE)("div",Ao,o[6]||(o[6]=[(0,a.Lk)("div",{class:"spinner"},null,-1),(0,a.Lk)("p",{class:"loading-text"},"검색 중...",-1)]))):i.movies.length>0?((0,a.uX)(),(0,a.Wv)(u,{key:3,movies:i.movies,currentPage:i.currentPage,hasMorePages:i.hasMorePages,onFetchPage:i.fetchMovies,onMovieSelected:i.goToMovieDetail},null,8,["movies","currentPage","hasMorePages","onFetchPage","onMovieSelected"])):(0,a.Q3)("",!0)])}const Po={class:"search-filter"},Do={class:"filter-card"},Fo={class:"filter-card"},Eo={class:"filter-card"},Ro={class:"filter-actions"};function Uo(e,o,t,i,s,n){return(0,a.uX)(),(0,a.CE)("div",Po,[(0,a.Lk)("div",Do,[o[6]||(o[6]=(0,a.Lk)("label",{for:"genre-select"},[(0,a.Lk)("i",{class:"fas fa-film"}),(0,a.eW)(" 장르 ")],-1)),(0,a.bo)((0,a.Lk)("select",{id:"genre-select","onUpdate:modelValue":o[0]||(o[0]=e=>s.selectedGenre=e),class:"filter-select"},o[5]||(o[5]=[(0,a.Fv)('<option value="" data-v-7d54cd43>선택 안함</option><option value="28" data-v-7d54cd43>액션</option><option value="12" data-v-7d54cd43>모험</option><option value="16" data-v-7d54cd43>애니메이션</option><option value="35" data-v-7d54cd43>코미디</option>',5)]),512),[[l.u1,s.selectedGenre]])]),(0,a.Lk)("div",Fo,[o[8]||(o[8]=(0,a.Lk)("label",{for:"rating-select"},[(0,a.Lk)("i",{class:"fas fa-star"}),(0,a.eW)(" 평점 ")],-1)),(0,a.bo)((0,a.Lk)("select",{id:"rating-select","onUpdate:modelValue":o[1]||(o[1]=e=>s.selectedRating=e),class:"filter-select"},o[7]||(o[7]=[(0,a.Lk)("option",{value:""},"선택 안함",-1),(0,a.Lk)("option",{value:"8"},"8 이상",-1),(0,a.Lk)("option",{value:"7"},"7 이상",-1),(0,a.Lk)("option",{value:"6"},"6 이상",-1)]),512),[[l.u1,s.selectedRating]])]),(0,a.Lk)("div",Eo,[o[10]||(o[10]=(0,a.Lk)("label",{for:"sort-select"},[(0,a.Lk)("i",{class:"fas fa-sort"}),(0,a.eW)(" 정렬 ")],-1)),(0,a.bo)((0,a.Lk)("select",{id:"sort-select","onUpdate:modelValue":o[2]||(o[2]=e=>s.selectedSort=e),class:"filter-select"},o[9]||(o[9]=[(0,a.Lk)("option",{value:""},"선택 안함",-1),(0,a.Lk)("option",{value:"popularity"},"인기순",-1),(0,a.Lk)("option",{value:"release_date"},"개봉년도",-1)]),512),[[l.u1,s.selectedSort]])]),(0,a.Lk)("div",Ro,[(0,a.Lk)("button",{onClick:o[3]||(o[3]=(...e)=>n.applyFilters&&n.applyFilters(...e)),class:"filter-btn apply-btn"},o[11]||(o[11]=[(0,a.Lk)("i",{class:"fas fa-check"},null,-1),(0,a.eW)(" 적용 ")])),(0,a.Lk)("button",{onClick:o[4]||(o[4]=(...e)=>n.clearFilters&&n.clearFilters(...e)),class:"filter-btn clear-btn"},o[12]||(o[12]=[(0,a.Lk)("i",{class:"fas fa-redo"},null,-1),(0,a.eW)(" 초기화 ")]))])])}var Wo={name:"SearchFilter",data(){return{selectedGenre:"",selectedRating:"",selectedSort:""}},methods:{applyFilters(){this.$emit("applyFilters",{genre:this.selectedGenre,rating:this.selectedRating,sort:this.selectedSort})},clearFilters(){this.selectedGenre="",this.selectedRating="",this.selectedSort="",this.$emit("clearFilters")}}};const _o=(0,y.A)(Wo,[["render",Uo],["__scopeId","data-v-7d54cd43"]]);var Bo=_o,Ko={name:"SearchMovies",components:{TableView:no,SearchFilter:Bo},setup(){const e=(0,A.rd)(),o=(0,je.KR)(""),t=(0,je.KR)(null),l=(0,je.KR)(null),a=(0,je.KR)(""),i=(0,je.KR)([]),s=(0,je.KR)(!1),n=(0,je.KR)(1),r=(0,je.KR)(!0),c=(0,je.KR)(Re()),u=async()=>{if(o.value.trim()){Ue(o.value),c.value=Re(),s.value=!0,n.value=1;try{i.value=await Z(o.value,n.value),r.value=i.value.length>0}catch(e){console.error("영화 검색 중 오류가 발생했습니다:",e)}finally{s.value=!1}}else g()},d=async e=>{s.value=!0,n.value=1,t.value=e.genre,l.value=e.rating,a.value=e.sort;try{t.value&&l.value?i.value=await G(t.value,l.value,n.value):t.value?i.value=await z(t.value,n.value):l.value?i.value=await $(l.value,n.value):i.value=await ee(n.value),a.value&&v(a.value),r.value=i.value.length>0}catch(o){console.error("영화 필터링 중 오류가 발생했습니다:",o)}finally{s.value=!1}},v=e=>{"popularity"===e?i.value.sort(((e,o)=>o.popularity-e.popularity)):"release_date"===e&&i.value.sort(((e,o)=>new Date(o.release_date)-new Date(e.release_date)))},h=async()=>{t.value=null,l.value=null,a.value="",o.value="",n.value=1,await g()},g=async()=>{s.value=!0;try{i.value=await ee(n.value),r.value=i.value.length>0}catch(e){console.error("기본 영화를 불러오는 중 오류가 발생했습니다:",e)}finally{s.value=!1}},p=async e=>{s.value=!0,n.value=e;try{if(o.value){const t=await Z(o.value,e);i.value=t}else t.value||l.value?t.value&&l.value?i.value=await G(t.value,l.value,e):t.value?i.value=await z(t.value,e):l.value&&(i.value=await $(l.value,e)):i.value=await ee(e);a.value&&v(a.value),r.value=i.value.length>0}catch(c){console.error("페이지 변경 중 오류가 발생했습니다:",c)}finally{s.value=!1}},m=o=>{e.push({name:"MovieDetail",params:{id:o}})},k=e=>{o.value=e,u()},f=()=>{_e(),c.value=[]},M=e=>{We(e),c.value=Re()};return{searchQuery:o,movies:i,loading:s,currentPage:n,hasMorePages:r,recentSearches:c,applySearch:u,applyFilters:d,clearFilters:h,fetchMovies:p,goToMovieDetail:m,selectRecentSearch:k,removeSearch:M,clearSearchHistory:f}}};const Oo=(0,y.A)(Ko,[["render",Xo],["__scopeId","data-v-1632a7b0"]]);var Qo=Oo;const Vo={class:"wishlist-movies"},Jo={key:0,class:"empty-message"};function No(e,o,t,l,i,s){const n=(0,a.g2)("wishlist-infinite-view");return(0,a.uX)(),(0,a.CE)("div",Vo,[0===i.wishlistMovies.length?((0,a.uX)(),(0,a.CE)("div",Jo," 위시리스트에 영화가 없습니다. ")):((0,a.uX)(),(0,a.Wv)(n,{key:1}))])}const xo={class:"wishlist-infinite-view"},Ho={class:"movies-grid"},qo=["src","alt","onClick"],jo=["onClick"],Yo={key:0,class:"loading-message"},zo={key:1,class:"end-message"};function $o(e,o,t,l,i,s){const r=(0,a.g2)("MovieDetail"),c=(0,a.g2)("ReusableModal");return(0,a.uX)(),(0,a.CE)("div",xo,[(0,a.Lk)("div",Ho,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(i.movies,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.id,class:"movie-item"},[(0,a.Lk)("img",{src:`https://image.tmdb.org/t/p/w500${e.poster_path}`,alt:e.title,class:"poster-image",onClick:o=>s.openMovieDetail(e.id)},null,8,qo),(0,a.Lk)("p",null,(0,n.v_)(e.title),1),(0,a.Lk)("button",{class:"wishlist-btn",onClick:o=>s.removeFromWishlist(e.id)},o[1]||(o[1]=[(0,a.Lk)("i",{class:"fas fa-trash"},null,-1)]),8,jo)])))),128))]),i.isLoading?((0,a.uX)(),(0,a.CE)("div",Yo,"더 불러오는 중...")):(0,a.Q3)("",!0),i.noMoreMovies?((0,a.uX)(),(0,a.CE)("div",zo,"더 이상 불러올 영화가 없습니다.")):(0,a.Q3)("",!0),(0,a.bF)(c,{visible:i.showMovieDetail,onClose:s.closeMovieDetail},{default:(0,a.k6)((()=>[(0,a.bF)(r,{id:i.selectedMovieId},null,8,["id"])])),_:1},8,["visible","onClose"]),i.showTopButton?((0,a.uX)(),(0,a.CE)("button",{key:2,class:"top-btn",onClick:o[0]||(o[0]=(...e)=>s.scrollToTop&&s.scrollToTop(...e))},o[2]||(o[2]=[(0,a.Lk)("i",{class:"fas fa-chevron-up"},null,-1)]))):(0,a.Q3)("",!0)])}var Go={name:"WishlistInfiniteView",components:{ReusableModal:re,MovieDetail:ke},data(){return{movies:[],isLoading:!1,noMoreMovies:!1,page:1,moviesPerPage:10,showMovieDetail:!1,selectedMovieId:null,showTopButton:!1}},methods:{loadMoreMovies(){if(this.isLoading||this.noMoreMovies)return;this.isLoading=!0;const e=Xe(),o=(this.page-1)*this.moviesPerPage,t=this.page*this.moviesPerPage,l=e.slice(o,t);l.length>0?(this.movies=[...this.movies,...l],this.page+=1):this.noMoreMovies=!0,this.isLoading=!1},removeFromWishlist(e){Fe(e),this.movies=this.movies.filter((o=>o.id!==e))},openMovieDetail(e){this.selectedMovieId=e,this.showMovieDetail=!0},closeMovieDetail(){this.showMovieDetail=!1,this.selectedMovieId=null},handleScroll(){const e=100,o=window.innerHeight+window.scrollY,t=document.documentElement.offsetHeight;o+e>=t&&this.loadMoreMovies(),this.showTopButton=window.scrollY>300},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}},mounted(){this.loadMoreMovies(),window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)}};const Zo=(0,y.A)(Go,[["render",$o],["__scopeId","data-v-747cc4b0"]]);var et=Zo,ot={name:"WishlistMovies",components:{WishlistInfiniteView:et},data(){return{wishlistMovies:[]}},created(){this.wishlistMovies=Xe()}};const tt=(0,y.A)(ot,[["render",No],["__scopeId","data-v-a9949af0"]]);var lt=tt;const at={class:"auth-wrapper"},it={class:"auth-container"},st={key:0},nt={class:"checkbox-container"},rt={key:1,class:"checkbox-container"},ct={type:"submit",class:"submit-button"},ut=["src"],dt={key:0,class:"error"};function vt(e,o,t,i,s,r){return(0,a.uX)(),(0,a.CE)("div",at,[(0,a.Lk)("div",it,[(0,a.bF)(l.eB,{name:"slide-fade",mode:"out-in"},{default:(0,a.k6)((()=>[((0,a.uX)(),(0,a.CE)("div",{key:s.isSignUp?"signup":"signin",class:"auth-card"},[(0,a.Lk)("h2",null,(0,n.v_)(s.isSignUp?"회원가입":"로그인"),1),(0,a.Lk)("form",{onSubmit:o[6]||(o[6]=(0,l.D$)(((...e)=>r.handleSubmit&&r.handleSubmit(...e)),["prevent"]))},[(0,a.bo)((0,a.Lk)("input",{type:"email","onUpdate:modelValue":o[0]||(o[0]=e=>s.email=e),placeholder:"이메일",required:"",onBlur:o[1]||(o[1]=(...o)=>e.validateEmail&&e.validateEmail(...o))},null,544),[[l.Jo,s.email]]),(0,a.bo)((0,a.Lk)("input",{type:"password","onUpdate:modelValue":o[2]||(o[2]=e=>s.password=e),placeholder:"비밀번호",required:""},null,512),[[l.Jo,s.password]]),s.isSignUp?((0,a.uX)(),(0,a.CE)("div",st,[(0,a.bo)((0,a.Lk)("input",{type:"password","onUpdate:modelValue":o[3]||(o[3]=e=>s.confirmPassword=e),placeholder:"비밀번호 확인",required:""},null,512),[[l.Jo,s.confirmPassword]]),(0,a.Lk)("div",nt,[(0,a.bo)((0,a.Lk)("input",{type:"checkbox","onUpdate:modelValue":o[4]||(o[4]=e=>s.agreedTerms=e),required:""},null,512),[[l.lH,s.agreedTerms]]),o[9]||(o[9]=(0,a.Lk)("label",null,"약관 동의",-1))])])):((0,a.uX)(),(0,a.CE)("div",rt,[(0,a.bo)((0,a.Lk)("input",{type:"checkbox","onUpdate:modelValue":o[5]||(o[5]=e=>s.rememberMe=e)},null,512),[[l.lH,s.rememberMe]]),o[10]||(o[10]=(0,a.Lk)("label",null,"Remember me",-1))])),(0,a.Lk)("button",ct,(0,n.v_)(s.isSignUp?"회원가입":"로그인"),1)],32),(0,a.Lk)("img",{src:s.kakaoLoginImage,alt:"카카오로 로그인",class:"kakao-login-button",onClick:o[7]||(o[7]=(...e)=>r.kakaoLoginBtn&&r.kakaoLoginBtn(...e))},null,8,ut),(0,a.Lk)("button",{type:"button",class:"toggle-button",onClick:o[8]||(o[8]=(...e)=>r.toggleMode&&r.toggleMode(...e))},(0,n.v_)(s.isSignUp?"로그인으로 이동":"회원가입"),1),s.errorMessage?((0,a.uX)(),(0,a.CE)("div",dt,(0,n.v_)(s.errorMessage),1)):(0,a.Q3)("",!0)]))])),_:1})])])}var ht={name:"AuthPage",data(){return{isSignUp:"/signup"===this.$route.path,email:localStorage.getItem("savedEmail")||"",password:localStorage.getItem("savedPassword")||"",confirmPassword:"",agreedTerms:!1,rememberMe:"true"===localStorage.getItem("keepLogin"),errorMessage:null,kakaoLoginImage:t(3571)}},methods:{kakaoLoginBtn:function(){window.Kakao.isInitialized()||window.Kakao.init("eb4ece2be8914c12d96392b9714d9bbd"),window.Kakao.Auth.getAccessToken()&&(window.Kakao.API.request({url:"/v1/user/unlink",success:function(e){console.log("토큰 초기화 성공:",e)},fail:function(e){console.log("토큰 초기화 실패:",e),this.errorMessage="로그인 세션 초기화 중 문제가 발생했습니다. 다시 시도해주세요."}}),window.Kakao.Auth.setAccessToken(void 0)),window.Kakao.Auth.login({success:e=>{console.log("Access Token:",e.access_token),localStorage.setItem("kakaoAccessToken",e.access_token),window.Kakao.API.request({url:"/v2/user/me",data:{property_keys:["kakao_account.email","kakao_account.profile.nickname"]},success:e=>{console.log("사용자 정보:",e);const o={id:e.id,email:e.kakao_account.email,nickname:e.kakao_account.profile.nickname};localStorage.setItem("userId",o.nickname),localStorage.setItem("kakaoId",o.id),alert(`환영합니다, ${o.nickname}!`),this.$router.push("/")},fail:e=>{console.error("사용자 정보 요청 실패:",e),localStorage.removeItem("kakaoAccessToken"),alert("사용자 정보를 가져오는 데 실패했습니다. 다시 시도해주세요.")}})},fail:e=>{if(console.error("카카오 로그인 실패:",e),e&&e.response){const o=e.response.status;this.errorMessage=o>=500?"서버에서 문제가 발생했습니다. 잠시 후 다시 시도해주세요.":401===o?"인증에 실패했습니다. 다시 로그인해주세요.":"요청 중 오류가 발생했습니다. 다시 시도해주세요."}else e.message&&e.message.includes("Network")?this.errorMessage="네트워크 연결을 확인하고 다시 시도해주세요.":this.errorMessage="알 수 없는 오류가 발생했습니다. 다시 시도해주세요."}})},async handleSubmit(){if(this.isSignUp){if(this.password!==this.confirmPassword)return void(this.errorMessage="비밀번호가 일치하지 않습니다.");if(!this.agreedTerms)return void(this.errorMessage="약관에 동의해야 회원가입이 가능합니다.");try{await f(this.email,this.password),alert("회원가입 성공!"),this.$router.push("/signin")}catch(e){this.errorMessage=e||"회원가입에 실패했습니다."}}else try{await k(this.email,this.password),this.rememberMe?(localStorage.setItem("savedEmail",this.email),localStorage.setItem("savedPassword",this.password),localStorage.setItem("keepLogin","true")):(localStorage.removeItem("savedEmail"),localStorage.removeItem("savedPassword"),localStorage.setItem("keepLogin","false")),alert("로그인 성공!"),this.$router.push("/")}catch(e){this.errorMessage=e||"로그인에 실패했습니다."}},toggleMode(){this.isSignUp=!this.isSignUp,this.$router.push(this.isSignUp?"/signup":"/signin")}},validateEmail(){const e=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;e.test(this.email)||(this.errorMessage="유효한 이메일 형식이 아닙니다.")}};const gt=(0,y.A)(ht,[["render",vt],["__scopeId","data-v-f707c7ac"]]);var pt=gt;const mt=[{path:"/",name:"Home",component:Je},{path:"/popular",name:"PopularMovies",component:bo},{path:"/search",name:"SearchMovies",component:Qo},{path:"/wishlist",name:"WishlistMovies",component:lt},{path:"/movie/:id",name:"MovieDetail",component:ke,props:!0},{path:"/signin",name:"SignIn",component:pt},{path:"/signup",name:"SignUp",component:pt}],kt=(0,A.aE)({history:(0,A.Bt)("/netflix-project/"),routes:mt});var ft=kt,Mt=(t(3855),t(782)),wt=(0,Mt.y$)({state:{user:null},mutations:{setUser(e,o){e.user=o}},getters:{getUser:e=>e.user}});(0,l.Ef)(I).use(ft,wt).mount("#app")},3571:function(e){e.exports="data:image/png;base64,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"}},o={};function t(l){var a=o[l];if(void 0!==a)return a.exports;var i=o[l]={exports:{}};return e[l].call(i.exports,i,i.exports,t),i.exports}t.m=e,function(){var e=[];t.O=function(o,l,a,i){if(!l){var s=1/0;for(u=0;u<e.length;u++){l=e[u][0],a=e[u][1],i=e[u][2];for(var n=!0,r=0;r<l.length;r++)(!1&i||s>=i)&&Object.keys(t.O).every((function(e){return t.O[e](l[r])}))?l.splice(r--,1):(n=!1,i<s&&(s=i));if(n){e.splice(u--,1);var c=a();void 0!==c&&(o=c)}}return o}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[l,a,i]}}(),function(){t.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(o,{a:o}),o}}(),function(){t.d=function(e,o){for(var l in o)t.o(o,l)&&!t.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:o[l]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};t.O.j=function(o){return 0===e[o]};var o=function(o,l){var a,i,s=l[0],n=l[1],r=l[2],c=0;if(s.some((function(o){return 0!==e[o]}))){for(a in n)t.o(n,a)&&(t.m[a]=n[a]);if(r)var u=r(t)}for(o&&o(l);c<s.length;c++)i=s[c],t.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return t.O(u)},l=self["webpackChunknetflix_project"]=self["webpackChunknetflix_project"]||[];l.forEach(o.bind(null,0)),l.push=o.bind(null,l.push.bind(l))}();var l=t.O(void 0,[504],(function(){return t(1958)}));l=t.O(l)})();
//# sourceMappingURL=app.11c5582b.js.map