(function(){"use strict";var e={6816:function(e,t,o){var a=o(5130),i=o(6768);const l={id:"app"};function s(e,t,o,s,r,n){const c=(0,i.g2)("header-component"),u=(0,i.g2)("router-view");return(0,i.uX)(),(0,i.CE)("div",l,[(0,i.bF)(c),(0,i.bF)(a.eB,{name:"page"},{default:(0,i.k6)((()=>[(0,i.bF)(u)])),_:1})])}var r=o(4232);const n={class:"header-left"},c={class:"logo"},u={class:"nav-links"},d={class:"user-info"},v={key:0};function h(e,t,o,a,l,s){const h=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("header",{class:(0,r.C4)({scrolled:l.isScrolled})},[(0,i.Lk)("div",n,[(0,i.Lk)("div",c,[(0,i.bF)(h,{to:"/",class:"logo-link"},{default:(0,i.k6)((()=>t[1]||(t[1]=[(0,i.Lk)("i",{class:"fas fa-film"},null,-1)]))),_:1})]),(0,i.Lk)("nav",u,[(0,i.bF)(h,{to:"/",class:"icon-link"},{default:(0,i.k6)((()=>t[2]||(t[2]=[(0,i.Lk)("i",{class:"fas fa-home"},null,-1)]))),_:1}),(0,i.bF)(h,{to:"/popular",class:"icon-link"},{default:(0,i.k6)((()=>t[3]||(t[3]=[(0,i.Lk)("i",{class:"fas fa-fire"},null,-1)]))),_:1}),(0,i.bF)(h,{to:"/search",class:"icon-link"},{default:(0,i.k6)((()=>t[4]||(t[4]=[(0,i.Lk)("i",{class:"fas fa-search"},null,-1)]))),_:1}),(0,i.bF)(h,{to:"/wishlist",class:"icon-link"},{default:(0,i.k6)((()=>t[5]||(t[5]=[(0,i.Lk)("i",{class:"fas fa-heart"},null,-1)]))),_:1})])]),(0,i.Lk)("div",d,[l.isLoggedIn?((0,i.uX)(),(0,i.CE)("span",v,(0,r.v_)(l.userId),1)):(0,i.Q3)("",!0),(0,i.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>s.handleAuthAction&&s.handleAuthAction(...e))},(0,r.v_)(l.isLoggedIn?"로그아웃":"로그인"),1)])],2)}o(4114);const p=new Map;function g(e,t,o,a){const i=p.get(e);i&&i.password===t?o(t):a()}function m(e,t,o,a){p.has(e)?a():(p.set(e,{password:t}),o(t))}const k=async(e,t)=>new Promise(((o,a)=>{g(e,t,(t=>{localStorage.setItem("TMDb-Key",t),localStorage.setItem("userId",e),o("로그인 성공")}),(()=>a("로그인 실패: 잘못된 아이디 또는 비밀번호입니다.")))})),f=async(e,t)=>new Promise(((o,a)=>{m(e,t,(()=>o("회원가입 성공")),(()=>a("회원가입 실패: 이미 존재하는 아이디입니다.")))})),w=()=>!!localStorage.getItem("TMDb-Key"),y=()=>{localStorage.removeItem("TMDb-Key"),localStorage.removeItem("userId")};var b={name:"AppHeader",data(){return{isScrolled:!1,isLoggedIn:!1,userId:""}},methods:{handleScroll(){this.isScrolled=window.scrollY>50},handleAuthAction(){this.isLoggedIn?(y(),this.isLoggedIn=!1,this.userId="",this.$router.push("/signin")):this.$router.push("/signin")}},watch:{isLoggedIn(e){this.userId=e?localStorage.getItem("userId")||"사용자":""}},mounted(){window.addEventListener("scroll",this.handleScroll),this.isLoggedIn=w(),this.isLoggedIn&&(this.userId=localStorage.getItem("userId")||"사용자")},unmounted(){window.removeEventListener("scroll",this.handleScroll)}},L=o(1241);const M=(0,L.A)(b,[["render",h],["__scopeId","data-v-2b0ee210"]]);var C=M,S={components:{HeaderComponent:C}};const T=(0,L.A)(S,[["render",s]]);var I=T,_=o(1387);const P={class:"home-page"},$={key:0,class:"loading-spinner"},E={key:0,class:"loading-spinner"},F={key:0,class:"loading-spinner"},X={key:0,class:"loading-spinner"};function R(e,t,o,a,l,s){const r=(0,i.g2)("HeroSection"),n=(0,i.g2)("MovieRow");return(0,i.uX)(),(0,i.CE)("div",P,[l.featuredMovies.length?((0,i.uX)(),(0,i.Wv)(r,{key:0,movies:l.featuredMovies},null,8,["movies"])):(0,i.Q3)("",!0),(0,i.Lk)("section",null,[t[0]||(t[0]=(0,i.Lk)("h2",null,"인기 영화",-1)),l.loadingPopular?((0,i.uX)(),(0,i.CE)("div",$,"로딩 중...")):((0,i.uX)(),(0,i.Wv)(n,{key:1,movies:l.popularMovies,onMovieSelected:s.goToMovieDetail,onToggleFavorite:s.toggleFavorite},null,8,["movies","onMovieSelected","onToggleFavorite"]))]),(0,i.Lk)("section",null,[t[1]||(t[1]=(0,i.Lk)("h2",null,"현재 상영작",-1)),l.loadingNowPlaying?((0,i.uX)(),(0,i.CE)("div",E,"로딩 중...")):((0,i.uX)(),(0,i.Wv)(n,{key:1,movies:l.nowPlayingMovies,onMovieSelected:s.goToMovieDetail,onToggleFavorite:s.toggleFavorite},null,8,["movies","onMovieSelected","onToggleFavorite"]))]),(0,i.Lk)("section",null,[t[2]||(t[2]=(0,i.Lk)("h2",null,"최고 평점 영화",-1)),l.loadingTopRated?((0,i.uX)(),(0,i.CE)("div",F,"로딩 중...")):((0,i.uX)(),(0,i.Wv)(n,{key:1,movies:l.topRatedMovies,onMovieSelected:s.goToMovieDetail,onToggleFavorite:s.toggleFavorite},null,8,["movies","onMovieSelected","onToggleFavorite"]))]),(0,i.Lk)("section",null,[t[3]||(t[3]=(0,i.Lk)("h2",null,"개봉 예정작",-1)),l.loadingUpcoming?((0,i.uX)(),(0,i.CE)("div",X,"로딩 중...")):((0,i.uX)(),(0,i.Wv)(n,{key:1,movies:l.upcomingMovies,onMovieSelected:s.goToMovieDetail,onToggleFavorite:s.toggleFavorite},null,8,["movies","onMovieSelected","onToggleFavorite"]))])])}const A={class:"banner-content"},W={class:"overview"},U={class:"button-group"},D={class:"dots"},V=["onClick"],K=["src"];function Q(e,t,o,l,s,n){return n.currentMovie?((0,i.uX)(),(0,i.CE)("section",{key:0,class:"hero-slider",style:(0,r.Tr)({backgroundImage:`url(${n.backdropUrl})`})},[(0,i.Lk)("div",A,[(0,i.Lk)("h1",{onClick:t[0]||(t[0]=(...e)=>n.goToDetailPage&&n.goToDetailPage(...e)),class:"title"},(0,r.v_)(n.currentMovie.title),1),(0,i.Lk)("p",W,(0,r.v_)(n.currentMovie.overview),1),(0,i.Lk)("div",U,[(0,i.Lk)("button",{class:"play-btn title-btn",onClick:t[1]||(t[1]=(...e)=>n.playTrailer&&n.playTrailer(...e))},"재생"),(0,i.Lk)("button",{class:"info-btn title-btn",onClick:t[2]||(t[2]=(...e)=>n.goToDetailPage&&n.goToDetailPage(...e))},"상세 정보")])]),(0,i.Lk)("div",D,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o.movies,((e,t)=>((0,i.uX)(),(0,i.CE)("span",{key:e.id,class:(0,r.C4)(["dot",{active:s.currentSlide===t}]),onClick:e=>n.goToSlide(t)},null,10,V)))),128))]),s.showTrailerModal?((0,i.uX)(),(0,i.CE)("div",{key:0,class:"modal-overlay",onClick:t[5]||(t[5]=(...e)=>n.closeTrailer&&n.closeTrailer(...e))},[(0,i.Lk)("div",{class:"modal-content",onClick:t[4]||(t[4]=(0,a.D$)((()=>{}),["stop"]))},[s.trailerUrl?((0,i.uX)(),(0,i.CE)("iframe",{key:0,width:"100%",height:"100%",src:`https://www.youtube.com/embed/${s.trailerUrl}`,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""},null,8,K)):(0,i.Q3)("",!0),(0,i.Lk)("button",{class:"close-btn",onClick:t[3]||(t[3]=(...e)=>n.closeTrailer&&n.closeTrailer(...e))},"닫기")])])):(0,i.Q3)("",!0)],4)):(0,i.Q3)("",!0)}o(8992),o(4520),o(4603),o(7566),o(8721);var O=o(4373);const x="https://api.themoviedb.org/3",j="ko-KR",B={popular:"/movie/popular",nowPlaying:"/movie/now_playing",upcoming:"/movie/upcoming",topRated:"/movie/top_rated",discover:"/discover/movie"},H=()=>localStorage.getItem("TMDb-Key"),J=async(e,t=1,o={})=>{const a=H();if(!a)return console.error("API 키가 설정되지 않았습니다. 로그인 필요"),[];try{const i=new URLSearchParams({api_key:a,language:j,page:t,...o}).toString(),l=`${x}${B[e]}?${i}`,s=await O.A.get(l);return s.data.results||[]}catch(i){return console.error(`영화 데이터를 불러오는 중 오류가 발생했습니다 (${e}):`,i.message),[]}},q=async e=>{const t=H();if(!t)return console.error("API 키가 설정되지 않았습니다. 로그인 필요"),null;try{const o=`${x}/movie/${e}?api_key=${t}&language=${j}`,a=await O.A.get(o);return a.data}catch(o){return console.error(`영화 상세 정보를 가져오는 중 오류가 발생했습니다 (movieId: ${e}):`,o.message),null}},N=async(e,t=1)=>await J("discover",t,{with_genres:e}),G=async(e,t=1)=>await J("discover",t,{"vote_average.gte":e}),Y=async(e,t,o=1)=>await J("discover",o,{with_genres:e,"vote_average.gte":t}),z=async(e,t=1)=>{const o=H();if(!o)return console.error("API 키가 설정되지 않았습니다. 로그인 필요"),[];try{const a=`${x}/search/movie?api_key=${o}&language=${j}&query=${encodeURIComponent(e)}&page=${t}`,i=await O.A.get(a);return i.data.results||[]}catch(a){return console.error(`영화 검색 중 오류가 발생했습니다 (query: ${e}):`,a.message),[]}},Z=async(e=1)=>await J("popular",e),ee=async(e=1)=>await J("nowPlaying",e),te=async(e=1)=>await J("upcoming",e),oe=async(e=1)=>await J("topRated",e),ae=async e=>{const t=H();if(!t)return console.error("API 키가 설정되지 않았습니다. 로그인 필요"),null;try{const o=`${x}/movie/${e}/videos?api_key=${t}&language=${j}`,a=await O.A.get(o),i=a.data.results.filter((e=>"Trailer"===e.type&&"YouTube"===e.site));return i.length?i[0].key:null}catch(o){return console.error(`예고편 데이터를 불러오는 중 오류가 발생했습니다 (movieId: ${e}):`,o.message),null}};var ie={name:"HeroSection",props:{movies:{type:Array,required:!0,default:()=>[]}},data(){return{currentSlide:0,showTrailerModal:!1,trailerUrl:null,slideInterval:null}},computed:{currentMovie(){return this.movies[this.currentSlide]},backdropUrl(){return this.currentMovie?`https://image.tmdb.org/t/p/original${this.currentMovie.backdrop_path}`:""}},methods:{async playTrailer(){if(this.currentMovie){const e=await ae(this.currentMovie.id);e?(this.trailerUrl=e,this.showTrailerModal=!0):alert("예고편을 찾을 수 없습니다.")}},closeTrailer(){this.showTrailerModal=!1,this.trailerUrl=null},goToDetailPage(){this.currentMovie&&this.$router.push({name:"MovieDetail",params:{id:this.currentMovie.id}})},goToSlide(e){this.currentSlide=e,clearInterval(this.slideInterval),this.startAutoSlide()},startAutoSlide(){this.movies.length>1&&(this.slideInterval=setInterval((()=>{this.currentSlide=(this.currentSlide+1)%this.movies.length}),1e4))}},mounted(){this.startAutoSlide()},beforeUnmount(){clearInterval(this.slideInterval)}};const le=(0,L.A)(ie,[["render",Q],["__scopeId","data-v-6881b024"]]);var se=le;const re={class:"movie-row-container"},ne={ref:"movieRow",class:"movie-row"},ce=["onMouseover"],ue={class:"poster-container"},de=["src","alt","onClick"],ve=["onClick"],he={class:"movie-title"};function pe(e,t,o,l,s,n){return(0,i.uX)(),(0,i.CE)("div",re,[(0,i.Lk)("button",{class:"scroll-button left",onClick:t[0]||(t[0]=(...e)=>n.scrollLeft&&n.scrollLeft(...e))},t[3]||(t[3]=[(0,i.Lk)("i",{class:"fas fa-chevron-left"},null,-1)])),(0,i.Lk)("div",ne,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o.movies,(e=>((0,i.uX)(),(0,i.CE)("div",{key:e.id,class:"movie-item",onMouseover:t=>s.hover=e.id,onMouseleave:t[1]||(t[1]=e=>s.hover=null)},[(0,i.Lk)("div",ue,[(0,i.Lk)("img",{src:`https://image.tmdb.org/t/p/w500${e.poster_path}`,alt:e.title,class:(0,r.C4)({hover:s.hover===e.id}),onClick:t=>n.handleMovieClick(e.id)},null,10,de),(0,i.Lk)("button",{class:(0,r.C4)(["wishlist-btn",{active:n.isInWishlist(e.id)}]),onClick:(0,a.D$)((t=>n.toggleWishlist(e)),["stop"])},[(0,i.Lk)("i",{class:(0,r.C4)(n.isInWishlist(e.id)?"fas fa-star":"far fa-star")},null,2)],10,ve)]),(0,i.Lk)("p",he,(0,r.v_)(e.title),1)],40,ce)))),128))],512),(0,i.Lk)("button",{class:"scroll-button right",onClick:t[2]||(t[2]=(...e)=>n.scrollRight&&n.scrollRight(...e))},t[4]||(t[4]=[(0,i.Lk)("i",{class:"fas fa-chevron-right"},null,-1)]))])}o(2577),o(7550);function ge(){return JSON.parse(localStorage.getItem("wishlist"))||[]}function me(e){localStorage.setItem("wishlist",JSON.stringify(e))}function ke(e){const t=ge();t.find((t=>t.id===e.id))||(t.push(e),me(t))}function fe(e){const t=ge().filter((t=>t.id!==e));me(t)}function we(e){return ge().some((t=>t.id===e))}function ye(e){localStorage.setItem("TMDb-Key",e)}var be={props:{movies:{type:Array,default:()=>[]}},data(){return{hover:null}},methods:{scrollLeft(){this.$refs.movieRow.scrollBy({left:-300,behavior:"smooth"})},scrollRight(){this.$refs.movieRow.scrollBy({left:300,behavior:"smooth"})},handleMovieClick(e){this.$emit("movie-selected",e)},toggleWishlist(e){we(e.id)?fe(e.id):ke(e),this.$forceUpdate()},isInWishlist(e){return we(e)}}};const Le=(0,L.A)(be,[["render",pe],["__scopeId","data-v-678c4910"]]);var Me=Le,Ce={components:{HeroSection:se,MovieRow:Me},data(){return{featuredMovies:[],popularMovies:[],nowPlayingMovies:[],topRatedMovies:[],upcomingMovies:[],loadingPopular:!0,loadingNowPlaying:!0,loadingTopRated:!0,loadingUpcoming:!0,favoriteMovies:JSON.parse(localStorage.getItem("favoriteMovies"))||[]}},methods:{async loadMovies(){try{this.popularMovies=await Z(),this.loadingPopular=!1,this.nowPlayingMovies=await ee(),this.loadingNowPlaying=!1,this.topRatedMovies=await oe(),this.loadingTopRated=!1,this.upcomingMovies=await te(),this.loadingUpcoming=!1,this.featuredMovies=this.popularMovies.slice(0,5)}catch(e){console.error("영화 데이터를 로드하는 중 오류가 발생했습니다:",e)}},toggleFavorite(e){const t=this.favoriteMovies.findIndex((t=>t.id===e.id));t>=0?this.favoriteMovies.splice(t,1):this.favoriteMovies.push(e),localStorage.setItem("favoriteMovies",JSON.stringify(this.favoriteMovies))},goToMovieDetail(e){this.$router.push({name:"MovieDetail",params:{id:e}})}},mounted(){this.loadMovies()}};const Se=(0,L.A)(Ce,[["render",R],["__scopeId","data-v-38849e08"]]);var Te=Se;const Ie={class:"popular-movies"},_e={class:"view-toggle-container"},Pe={class:"view-toggle"};function $e(e,t,o,a,l,s){const n=(0,i.g2)("TableView"),c=(0,i.g2)("InfiniteScrollView");return(0,i.uX)(),(0,i.CE)("div",Ie,[(0,i.Lk)("div",_e,[(0,i.Lk)("div",Pe,[(0,i.Lk)("button",{onClick:t[0]||(t[0]=e=>a.changeView("table")),class:(0,r.C4)({active:"table"===a.viewMode})},t[2]||(t[2]=[(0,i.Lk)("i",{class:"fas fa-table"},null,-1)]),2),(0,i.Lk)("button",{onClick:t[1]||(t[1]=e=>a.changeView("infinite")),class:(0,r.C4)({active:"infinite"===a.viewMode})},t[3]||(t[3]=[(0,i.Lk)("i",{class:"fas fa-infinity"},null,-1)]),2)])]),"table"===a.viewMode?((0,i.uX)(),(0,i.Wv)(n,{key:0,movies:a.movies,currentPage:a.currentPage,hasMorePages:a.hasMorePages,onFetchPage:a.fetchMovies,onMovieSelected:a.goToMovieDetail},null,8,["movies","currentPage","hasMorePages","onFetchPage","onMovieSelected"])):(0,i.Q3)("",!0),"infinite"===a.viewMode?((0,i.uX)(),(0,i.Wv)(c,{key:1,movies:a.movies,loading:a.loading,onLoadMore:a.loadMoreMovies,onMovieSelected:a.goToMovieDetail},null,8,["movies","loading","onLoadMore","onMovieSelected"])):(0,i.Q3)("",!0)])}var Ee=o(144);function Fe(e="popular"){const t=(0,Ee.KR)([]),o=(0,Ee.KR)(!0),a=(0,Ee.KR)(1),i=(0,Ee.KR)(!0),l=async(l,s=!1)=>{o.value=!0;try{let o;switch(e){case"popular":o=await Z(l);break;case"nowPlaying":o=await ee(l);break;case"topRated":o=await oe(l);break;case"upcoming":o=await te(l);break;default:console.error("잘못된 카테고리입니다."),o=[]}t.value=s?[...t.value,...o]:o,a.value=l,i.value=o.length>0}catch(r){console.error("영화 데이터를 불러오는 중 오류:",r)}finally{o.value=!1}},s=async()=>{!o.value&&i.value&&await l(a.value+1,!0)};return{movies:t,loading:o,currentPage:a,hasMorePages:i,fetchMovies:l,loadMoreMovies:s}}const Xe={class:"table-view"},Re={class:"poster-container"},Ae=["src","alt","onClick"],We=["onClick"],Ue={class:"movie-title"},De={class:"pagination"},Ve=["disabled"],Ke=["disabled"];function Qe(e,t,o,l,s,n){return(0,i.uX)(),(0,i.CE)("div",Xe,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o.movies,(e=>((0,i.uX)(),(0,i.CE)("div",{key:e.id,class:"movie-item"},[(0,i.Lk)("div",Re,[(0,i.Lk)("img",{src:`https://image.tmdb.org/t/p/w500${e.poster_path}`,alt:e.title,class:"poster-image",onClick:t=>n.selectMovie(e.id)},null,8,Ae),(0,i.Lk)("button",{class:(0,r.C4)(["wishlist-btn",{active:n.isInWishlist(e.id)}]),onClick:(0,a.D$)((t=>n.toggleWishlist(e)),["stop"])},[(0,i.Lk)("i",{class:(0,r.C4)(n.isInWishlist(e.id)?"fas fa-star":"far fa-star")},null,2)],10,We)]),(0,i.Lk)("h3",Ue,(0,r.v_)(e.title),1)])))),128)),(0,i.Lk)("div",De,[(0,i.Lk)("button",{onClick:t[0]||(t[0]=t=>e.$emit("fetchPage",o.currentPage-1)),disabled:1===o.currentPage}," 이전 ",8,Ve),(0,i.Lk)("span",null,(0,r.v_)(o.currentPage),1),(0,i.Lk)("button",{onClick:t[1]||(t[1]=t=>e.$emit("fetchPage",o.currentPage+1)),disabled:!o.hasMorePages}," 다음 ",8,Ke)])])}var Oe={name:"TableView",props:{movies:Array,currentPage:Number,hasMorePages:Boolean},methods:{selectMovie(e){this.$emit("movie-selected",e)},toggleWishlist(e){we(e.id)?fe(e.id):ke(e),this.$forceUpdate()},isInWishlist(e){return we(e)}}};const xe=(0,L.A)(Oe,[["render",Qe],["__scopeId","data-v-4c81e4b7"]]);var je=xe;const Be={class:"infinite-scroll"},He={class:"poster-container"},Je=["src","alt","onClick"],qe=["onClick"],Ne={class:"movie-title"},Ge={key:0,class:"loading"};function Ye(e,t,o,l,s,n){return(0,i.uX)(),(0,i.CE)("div",Be,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o.movies,(e=>((0,i.uX)(),(0,i.CE)("div",{key:e.id,class:"movie-item"},[(0,i.Lk)("div",He,[(0,i.Lk)("img",{src:`https://image.tmdb.org/t/p/w500${e.poster_path}`,alt:e.title,class:"poster-image",onClick:t=>n.selectMovie(e.id)},null,8,Je),(0,i.Lk)("button",{class:(0,r.C4)(["wishlist-btn",{active:n.isInWishlist(e.id)}]),onClick:(0,a.D$)((t=>n.toggleWishlist(e)),["stop"])},[(0,i.Lk)("i",{class:(0,r.C4)(n.isInWishlist(e.id)?"fas fa-star":"far fa-star")},null,2)],10,qe)]),(0,i.Lk)("h3",Ne,(0,r.v_)(e.title),1)])))),128)),o.loading?((0,i.uX)(),(0,i.CE)("div",Ge,t[1]||(t[1]=[(0,i.Lk)("div",{class:"spinner"},null,-1),(0,i.Lk)("p",{class:"loading-text"},"영화 데이터를 불러오는 중입니다...",-1)]))):(0,i.Q3)("",!0),s.showTopButton?((0,i.uX)(),(0,i.CE)("button",{key:1,class:"top-button",onClick:t[0]||(t[0]=(...e)=>n.scrollToTop&&n.scrollToTop(...e))},t[2]||(t[2]=[(0,i.Lk)("i",{class:"fas fa-arrow-up"},null,-1)]))):(0,i.Q3)("",!0)])}var ze={name:"InfiniteScrollView",props:{movies:Array,loading:Boolean},data(){return{showTopButton:!1}},mounted(){window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){const e=window.innerHeight+window.scrollY>=document.documentElement.offsetHeight-100;e&&!this.loading&&this.$emit("loadMore"),this.showTopButton=window.scrollY>400},selectMovie(e){this.$emit("movie-selected",e)},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})},toggleWishlist(e){we(e.id)?fe(e.id):ke(e),this.$forceUpdate()},isInWishlist(e){return we(e)}}};const Ze=(0,L.A)(ze,[["render",Ye],["__scopeId","data-v-e443e83e"]]);var et=Ze,tt={name:"PopularMovies",components:{TableView:je,InfiniteScrollView:et},setup(){const{movies:e,loading:t,currentPage:o,hasMorePages:a,fetchMovies:l,loadMoreMovies:s}=Fe(),r=(0,Ee.KR)("table"),n=(0,_.rd)(),c=e=>{r.value=e,l(1,!1)},u=e=>{n.push({name:"MovieDetail",params:{id:e}})};return(0,i.sV)((()=>{l(o.value,!1)})),{movies:e,loading:t,currentPage:o,hasMorePages:a,viewMode:r,changeView:c,goToMovieDetail:u,fetchMovies:l,loadMoreMovies:s}}};const ot=(0,L.A)(tt,[["render",$e],["__scopeId","data-v-bf3be254"]]);var at=ot;const it={class:"search-movies"},lt={class:"search-bar"},st={key:0,class:"filter-section"},rt={key:1,class:"loading"};function nt(e,t,o,l,s,r){const n=(0,i.g2)("SearchFilter"),c=(0,i.g2)("TableView");return(0,i.uX)(),(0,i.CE)("div",it,[(0,i.Lk)("div",lt,[(0,i.bo)((0,i.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>l.searchQuery=e),placeholder:"제목으로 검색하세요",onKeyup:t[1]||(t[1]=(0,a.jR)(((...e)=>l.applySearch&&l.applySearch(...e)),["enter"]))},null,544),[[a.Jo,l.searchQuery]]),(0,i.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>l.applySearch&&l.applySearch(...e))},t[3]||(t[3]=[(0,i.Lk)("i",{class:"fas fa-search"},null,-1)]))]),l.searchQuery?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",st,[(0,i.bF)(n,{onApplyFilters:l.applyFilters,onClearFilters:l.clearFilters},null,8,["onApplyFilters","onClearFilters"])])),l.loading?((0,i.uX)(),(0,i.CE)("div",rt,t[4]||(t[4]=[(0,i.Lk)("div",{class:"spinner"},null,-1),(0,i.Lk)("p",{class:"loading-text"},"검색 중...",-1)]))):((0,i.uX)(),(0,i.Wv)(c,{key:2,movies:l.movies,currentPage:l.currentPage,hasMorePages:l.hasMorePages,onFetchPage:l.fetchMovies,onMovieSelected:l.goToMovieDetail},null,8,["movies","currentPage","hasMorePages","onFetchPage","onMovieSelected"]))])}const ct={class:"search-filter"},ut={class:"filter-card"},dt={class:"filter-card"},vt={class:"filter-card"},ht={class:"filter-actions"};function pt(e,t,o,l,s,r){return(0,i.uX)(),(0,i.CE)("div",ct,[(0,i.Lk)("div",ut,[t[6]||(t[6]=(0,i.Lk)("label",{for:"genre-select"},[(0,i.Lk)("i",{class:"fas fa-film"}),(0,i.eW)(" 장르 ")],-1)),(0,i.bo)((0,i.Lk)("select",{id:"genre-select","onUpdate:modelValue":t[0]||(t[0]=e=>s.selectedGenre=e),class:"filter-select"},t[5]||(t[5]=[(0,i.Fv)('<option value="" data-v-49b9e9ce>선택 안함</option><option value="28" data-v-49b9e9ce>액션</option><option value="12" data-v-49b9e9ce>모험</option><option value="16" data-v-49b9e9ce>애니메이션</option><option value="35" data-v-49b9e9ce>코미디</option>',5)]),512),[[a.u1,s.selectedGenre]])]),(0,i.Lk)("div",dt,[t[8]||(t[8]=(0,i.Lk)("label",{for:"rating-select"},[(0,i.Lk)("i",{class:"fas fa-star"}),(0,i.eW)(" 평점 ")],-1)),(0,i.bo)((0,i.Lk)("select",{id:"rating-select","onUpdate:modelValue":t[1]||(t[1]=e=>s.selectedRating=e),class:"filter-select"},t[7]||(t[7]=[(0,i.Lk)("option",{value:""},"선택 안함",-1),(0,i.Lk)("option",{value:"8"},"8 이상",-1),(0,i.Lk)("option",{value:"7"},"7 이상",-1),(0,i.Lk)("option",{value:"6"},"6 이상",-1)]),512),[[a.u1,s.selectedRating]])]),(0,i.Lk)("div",vt,[t[10]||(t[10]=(0,i.Lk)("label",{for:"sort-select"},[(0,i.Lk)("i",{class:"fas fa-sort"}),(0,i.eW)(" 정렬 ")],-1)),(0,i.bo)((0,i.Lk)("select",{id:"sort-select","onUpdate:modelValue":t[2]||(t[2]=e=>s.selectedSort=e),class:"filter-select"},t[9]||(t[9]=[(0,i.Lk)("option",{value:""},"선택 안함",-1),(0,i.Lk)("option",{value:"popularity"},"인기순",-1),(0,i.Lk)("option",{value:"release_date"},"개봉년도",-1)]),512),[[a.u1,s.selectedSort]])]),(0,i.Lk)("div",ht,[(0,i.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>r.applyFilters&&r.applyFilters(...e)),class:"filter-btn apply-btn"},t[11]||(t[11]=[(0,i.Lk)("i",{class:"fas fa-check"},null,-1),(0,i.eW)(" 적용 ")])),(0,i.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>r.clearFilters&&r.clearFilters(...e)),class:"filter-btn clear-btn"},t[12]||(t[12]=[(0,i.Lk)("i",{class:"fas fa-redo"},null,-1),(0,i.eW)(" 초기화 ")]))])])}var gt={name:"SearchFilter",data(){return{selectedGenre:"",selectedRating:"",selectedSort:""}},methods:{applyFilters(){this.$emit("applyFilters",{genre:this.selectedGenre,rating:this.selectedRating,sort:this.selectedSort})},clearFilters(){this.selectedGenre="",this.selectedRating="",this.selectedSort="",this.$emit("clearFilters")}}};const mt=(0,L.A)(gt,[["render",pt],["__scopeId","data-v-49b9e9ce"]]);var kt=mt,ft={name:"SearchMovies",components:{TableView:je,SearchFilter:kt},setup(){const e=(0,_.rd)(),t=(0,Ee.KR)(""),o=(0,Ee.KR)(null),a=(0,Ee.KR)(null),i=(0,Ee.KR)(""),l=(0,Ee.KR)([]),s=(0,Ee.KR)(!1),r=(0,Ee.KR)(1),n=(0,Ee.KR)(!0),c=async()=>{if(t.value){s.value=!0,r.value=1;try{l.value=await z(t.value,r.value),n.value=l.value.length>0}catch(e){console.error("영화 검색 중 오류가 발생했습니다:",e)}finally{s.value=!1}}else h()},u=async e=>{s.value=!0,r.value=1,o.value=e.genre,a.value=e.rating,i.value=e.sort;try{o.value&&a.value?l.value=await Y(o.value,a.value,r.value):o.value?l.value=await N(o.value,r.value):a.value?l.value=await G(a.value,r.value):l.value=await Z(r.value),i.value&&d(i.value),n.value=l.value.length>0}catch(t){console.error("영화 필터링 중 오류가 발생했습니다:",t)}finally{s.value=!1}},d=e=>{"popularity"===e?l.value.sort(((e,t)=>t.popularity-e.popularity)):"release_date"===e&&l.value.sort(((e,t)=>new Date(t.release_date)-new Date(e.release_date)))},v=async()=>{o.value=null,a.value=null,i.value="",t.value="",r.value=1,await h()},h=async()=>{s.value=!0;try{l.value=await Z(r.value),n.value=l.value.length>0}catch(e){console.error("기본 영화를 불러오는 중 오류가 발생했습니다:",e)}finally{s.value=!1}},p=async e=>{s.value=!0,r.value=e;try{if(t.value){const o=await z(t.value,e);l.value=o}else o.value||a.value?o.value&&a.value?l.value=await Y(o.value,a.value,e):o.value?l.value=await N(o.value,e):a.value&&(l.value=await G(a.value,e)):l.value=await Z(e);i.value&&d(i.value),n.value=l.value.length>0}catch(c){console.error("페이지 변경 중 오류가 발생했습니다:",c)}finally{s.value=!1}},g=t=>{e.push({name:"MovieDetail",params:{id:t}})};return{searchQuery:t,movies:l,loading:s,currentPage:r,hasMorePages:n,applySearch:c,applyFilters:u,clearFilters:v,fetchMovies:p,goToMovieDetail:g}}};const wt=(0,L.A)(ft,[["render",nt],["__scopeId","data-v-62429261"]]);var yt=wt;const bt={class:"wishlist-movies"},Lt={key:0,class:"empty-message"},Mt={class:"view-toggle"},Ct={key:1,class:"wishlist-table"},St={class:"poster-container"},Tt=["src","alt"],It=["onClick"],_t=["onClick"],Pt={key:2,class:"wishlist-infinite-view"},$t={class:"movies-grid"},Et={class:"poster-container"},Ft=["src","alt"],Xt=["onClick"];function Rt(e,t,o,a,l,s){return(0,i.uX)(),(0,i.CE)("div",bt,[0===l.wishlistMovies.length?((0,i.uX)(),(0,i.CE)("div",Lt," 위시리스트에 영화가 없습니다. ")):(0,i.Q3)("",!0),(0,i.Lk)("div",Mt,[(0,i.Lk)("button",{onClick:t[0]||(t[0]=e=>s.changeView("table")),class:(0,r.C4)({active:"table"===l.viewMode})},"Table View",2),(0,i.Lk)("button",{onClick:t[1]||(t[1]=e=>s.changeView("infinite")),class:(0,r.C4)({active:"infinite"===l.viewMode})},"Infinite Scroll",2)]),"table"===l.viewMode?((0,i.uX)(),(0,i.CE)("div",Ct,[(0,i.Lk)("table",null,[t[2]||(t[2]=(0,i.Lk)("thead",null,[(0,i.Lk)("tr",null,[(0,i.Lk)("th",null,"포스터"),(0,i.Lk)("th",null,"영화 제목"),(0,i.Lk)("th",null,"삭제")])],-1)),(0,i.Lk)("tbody",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(l.wishlistMovies,(e=>((0,i.uX)(),(0,i.CE)("tr",{key:e.id},[(0,i.Lk)("td",null,[(0,i.Lk)("div",St,[(0,i.Lk)("img",{src:`https://image.tmdb.org/t/p/w200${e.poster_path}`,alt:e.title},null,8,Tt),(0,i.Lk)("button",{class:"wishlist-btn",onClick:t=>s.removeFromWishlist(e.id)}," ❤️ ",8,It)])]),(0,i.Lk)("td",null,(0,r.v_)(e.title),1),(0,i.Lk)("td",null,[(0,i.Lk)("button",{onClick:t=>s.removeFromWishlist(e.id)},"삭제",8,_t)])])))),128))])])])):(0,i.Q3)("",!0),"infinite"===l.viewMode?((0,i.uX)(),(0,i.CE)("div",Pt,[(0,i.Lk)("div",$t,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(l.wishlistMovies,(e=>((0,i.uX)(),(0,i.CE)("div",{key:e.id,class:"movie-item"},[(0,i.Lk)("div",Et,[(0,i.Lk)("img",{src:`https://image.tmdb.org/t/p/w500${e.poster_path}`,alt:e.title},null,8,Ft),(0,i.Lk)("button",{class:"wishlist-btn",onClick:t=>s.removeFromWishlist(e.id)}," ❤️ ",8,Xt)]),(0,i.Lk)("p",null,(0,r.v_)(e.title),1)])))),128))])])):(0,i.Q3)("",!0)])}var At={name:"WishlistMovies",data(){return{wishlistMovies:[],viewMode:"table"}},methods:{loadWishlistMovies(){this.wishlistMovies=ge()},changeView(e){this.viewMode=e},removeFromWishlist(e){fe(e),this.loadWishlistMovies()}},created(){this.loadWishlistMovies()}};const Wt=(0,L.A)(At,[["render",Rt],["__scopeId","data-v-63614acc"]]);var Ut=Wt;const Dt={key:0,class:"movie-detail"},Vt={class:"overlay"},Kt={class:"buttons"},Qt=["src"],Ot={key:1};function xt(e,t,o,l,s,n){return s.movie?((0,i.uX)(),(0,i.CE)("div",Dt,[(0,i.Lk)("div",{class:"movie-header",style:(0,r.Tr)({backgroundImage:`url(${n.backdropUrl})`})},[(0,i.Lk)("div",Vt,[(0,i.Lk)("h1",null,(0,r.v_)(s.movie.title),1),(0,i.Lk)("p",null,(0,r.v_)(s.movie.overview),1),(0,i.Lk)("div",Kt,[(0,i.Lk)("button",{class:"play-btn",onClick:t[0]||(t[0]=(...e)=>n.playTrailer&&n.playTrailer(...e))},"예고편 재생"),(0,i.Lk)("span",null,"평점: "+(0,r.v_)(s.movie.vote_average),1)])])],4),s.showTrailerModal?((0,i.uX)(),(0,i.CE)("div",{key:0,class:"modal-overlay",onClick:t[3]||(t[3]=(...e)=>n.closeTrailer&&n.closeTrailer(...e))},[(0,i.Lk)("div",{class:"modal-content",onClick:t[2]||(t[2]=(0,a.D$)((()=>{}),["stop"]))},[s.trailerUrl?((0,i.uX)(),(0,i.CE)("iframe",{key:0,width:"100%",height:"100%",src:`https://www.youtube.com/embed/${s.trailerUrl}`,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""},null,8,Qt)):(0,i.Q3)("",!0),(0,i.Lk)("button",{class:"close-btn",onClick:t[1]||(t[1]=(...e)=>n.closeTrailer&&n.closeTrailer(...e))},"닫기")])])):(0,i.Q3)("",!0)])):((0,i.uX)(),(0,i.CE)("p",Ot,"영화 데이터를 불러오는 중..."))}var jt={name:"MovieDetail",props:["id"],data(){return{movie:null,showTrailerModal:!1,trailerUrl:null}},computed:{backdropUrl(){return this.movie?`https://image.tmdb.org/t/p/original${this.movie.backdrop_path}`:""}},methods:{async loadMovieDetails(){this.movie=await q(this.id)},async playTrailer(){const e=await ae(this.id);e?(this.trailerUrl=e,this.showTrailerModal=!0):alert("예고편을 찾을 수 없습니다.")},closeTrailer(){this.showTrailerModal=!1,this.trailerUrl=null}},async created(){await this.loadMovieDetails()}};const Bt=(0,L.A)(jt,[["render",xt],["__scopeId","data-v-2849684e"]]);var Ht=Bt;const Jt={class:"auth-container"};function qt(e,t,o,l,s,r){return(0,i.uX)(),(0,i.Wv)(a.eB,{name:"fade"},{default:(0,i.k6)((()=>[(0,i.Lk)("div",Jt,[t[9]||(t[9]=(0,i.Lk)("h2",null,"로그인",-1)),(0,i.Lk)("form",{onSubmit:t[5]||(t[5]=(0,a.D$)(((...e)=>r.handleLogin&&r.handleLogin(...e)),["prevent"]))},[(0,i.bo)((0,i.Lk)("input",{type:"email","onUpdate:modelValue":t[0]||(t[0]=e=>s.email=e),placeholder:"이메일",required:"",onBlur:t[1]||(t[1]=(...e)=>r.validateEmail&&r.validateEmail(...e))},null,544),[[a.Jo,s.email]]),(0,i.bo)((0,i.Lk)("input",{type:"password","onUpdate:modelValue":t[2]||(t[2]=e=>s.password=e),placeholder:"비밀번호",required:""},null,512),[[a.Jo,s.password]]),(0,i.Lk)("div",null,[(0,i.bo)((0,i.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=e=>s.rememberMe=e)},null,512),[[a.lH,s.rememberMe]]),t[6]||(t[6]=(0,i.eW)()),t[7]||(t[7]=(0,i.Lk)("label",null,"Remember me",-1))]),t[8]||(t[8]=(0,i.Lk)("button",{type:"submit"},"로그인",-1)),(0,i.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>r.switchToSignUp&&r.switchToSignUp(...e))},"회원가입")],32)])])),_:1})}var Nt={data(){return{email:localStorage.getItem("savedEmail")||"",password:localStorage.getItem("savedPassword")||"",rememberMe:!1}},methods:{async handleLogin(){try{const e=await k(this.email,this.password);alert(e),this.rememberMe?(localStorage.setItem("savedEmail",this.email),localStorage.setItem("savedPassword",this.password)):(localStorage.removeItem("savedEmail"),localStorage.removeItem("savedPassword")),this.$router.push("/")}catch(e){alert(e)}},switchToSignUp(){this.$router.push("/signup")},validateEmail(){const e=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;e.test(this.email)||alert("이메일 형식이 올바르지 않습니다.")}}};const Gt=(0,L.A)(Nt,[["render",qt]]);var Yt=Gt;const zt={class:"auth-container"},Zt={key:0,class:"error"};function eo(e,t,o,l,s,n){return(0,i.uX)(),(0,i.Wv)(a.eB,{name:"fade"},{default:(0,i.k6)((()=>[(0,i.Lk)("div",zt,[t[10]||(t[10]=(0,i.Lk)("h2",null,"회원가입",-1)),(0,i.Lk)("form",{onSubmit:t[6]||(t[6]=(0,a.D$)(((...e)=>n.handleRegister&&n.handleRegister(...e)),["prevent"]))},[(0,i.bo)((0,i.Lk)("input",{type:"email","onUpdate:modelValue":t[0]||(t[0]=e=>s.email=e),placeholder:"이메일",required:"",onBlur:t[1]||(t[1]=(...e)=>n.validateEmail&&n.validateEmail(...e))},null,544),[[a.Jo,s.email]]),(0,i.bo)((0,i.Lk)("input",{type:"password","onUpdate:modelValue":t[2]||(t[2]=e=>s.password=e),placeholder:"비밀번호",required:""},null,512),[[a.Jo,s.password]]),(0,i.bo)((0,i.Lk)("input",{type:"password","onUpdate:modelValue":t[3]||(t[3]=e=>s.confirmPassword=e),placeholder:"비밀번호 확인",required:""},null,512),[[a.Jo,s.confirmPassword]]),(0,i.Lk)("div",null,[(0,i.bo)((0,i.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=e=>s.agreedTerms=e),required:""},null,512),[[a.lH,s.agreedTerms]]),t[7]||(t[7]=(0,i.eW)()),t[8]||(t[8]=(0,i.Lk)("label",null,"약관 동의",-1))]),t[9]||(t[9]=(0,i.Lk)("button",{type:"submit"},"회원가입",-1)),(0,i.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>n.switchToSignIn&&n.switchToSignIn(...e))},"로그인으로 이동")],32),s.errorMessage?((0,i.uX)(),(0,i.CE)("div",Zt,(0,r.v_)(s.errorMessage),1)):(0,i.Q3)("",!0)])])),_:1})}var to={name:"SignUp",data(){return{email:"",password:"",confirmPassword:"",agreedTerms:!1,errorMessage:null}},methods:{async handleRegister(){if(this.password===this.confirmPassword)try{const e=await f(this.email,this.password);ye(e),alert("회원가입 성공!"),this.$router.push("/signin")}catch(e){this.errorMessage=e}else this.errorMessage="비밀번호가 일치하지 않습니다."},switchToSignIn(){this.$router.push("/signin")},validateEmail(){const e=/^[\w.-]+@([\w-]+\.)+[\w-]{2,4}$/;e.test(this.email)||(this.errorMessage="유효한 이메일 형식이 아닙니다.")}}};const oo=(0,L.A)(to,[["render",eo],["__scopeId","data-v-55fcfe98"]]);var ao=oo;const io=[{path:"/",name:"Home",component:Te},{path:"/popular",name:"PopularMovies",component:at},{path:"/search",name:"SearchMovies",component:yt},{path:"/wishlist",name:"WishlistMovies",component:Ut},{path:"/movie/:id",name:"MovieDetail",component:Ht,props:!0},{path:"/signin",name:"SignIn",component:Yt},{path:"/signup",name:"SignUp",component:ao}],lo=(0,_.aE)({history:(0,_.LA)("/netflix-project/"),routes:io});lo.beforeEach(((e,t,o)=>{const a=["/signin","/signup"],i=!a.includes(e.path),l=w();if(i&&!l)return o("/signin");o()}));var so=lo;o(3855);(0,a.Ef)(I).use(so).mount("#app")}},t={};function o(a){var i=t[a];if(void 0!==i)return i.exports;var l=t[a]={exports:{}};return e[a].call(l.exports,l,l.exports,o),l.exports}o.m=e,function(){var e=[];o.O=function(t,a,i,l){if(!a){var s=1/0;for(u=0;u<e.length;u++){a=e[u][0],i=e[u][1],l=e[u][2];for(var r=!0,n=0;n<a.length;n++)(!1&l||s>=l)&&Object.keys(o.O).every((function(e){return o.O[e](a[n])}))?a.splice(n--,1):(r=!1,l<s&&(s=l));if(r){e.splice(u--,1);var c=i();void 0!==c&&(t=c)}}return t}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[a,i,l]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};o.O.j=function(t){return 0===e[t]};var t=function(t,a){var i,l,s=a[0],r=a[1],n=a[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(i in r)o.o(r,i)&&(o.m[i]=r[i]);if(n)var u=n(o)}for(t&&t(a);c<s.length;c++)l=s[c],o.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return o.O(u)},a=self["webpackChunknetflix_project"]=self["webpackChunknetflix_project"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=o.O(void 0,[504],(function(){return o(6816)}));a=o.O(a)})();
//# sourceMappingURL=app.de89892e.js.map