(function(){"use strict";var e={2550:function(e,o,t){var l=t(5130),i=t(6768);const a={id:"app"};function s(e,o,t,s,n,r){const c=(0,i.g2)("header-component"),u=(0,i.g2)("router-view");return(0,i.uX)(),(0,i.CE)("div",a,[(0,i.bF)(c),(0,i.bF)(l.eB,{name:"page"},{default:(0,i.k6)((()=>[(0,i.bF)(u)])),_:1})])}var n=t(4232);const r={class:"header-left"},c={class:"logo"},u={class:"nav-links"},d={class:"user-info"},v={class:"user-icon-wrapper"},h={key:0,class:"user-email"};function g(e,o,t,l,a,s){const g=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("header",{class:(0,n.C4)({scrolled:a.isScrolled})},[(0,i.Lk)("div",r,[(0,i.Lk)("div",c,[(0,i.bF)(g,{to:"/",class:"logo-link"},{default:(0,i.k6)((()=>o[1]||(o[1]=[(0,i.Lk)("i",{class:"fas fa-film"},null,-1)]))),_:1})]),(0,i.Lk)("nav",u,[(0,i.bF)(g,{to:"/",class:"icon-link"},{default:(0,i.k6)((()=>o[2]||(o[2]=[(0,i.Lk)("i",{class:"fas fa-home"},null,-1)]))),_:1}),(0,i.bF)(g,{to:"/popular",class:"icon-link"},{default:(0,i.k6)((()=>o[3]||(o[3]=[(0,i.Lk)("i",{class:"fas fa-fire"},null,-1)]))),_:1}),(0,i.bF)(g,{to:"/search",class:"icon-link"},{default:(0,i.k6)((()=>o[4]||(o[4]=[(0,i.Lk)("i",{class:"fas fa-search"},null,-1)]))),_:1}),(0,i.bF)(g,{to:"/wishlist",class:"icon-link"},{default:(0,i.k6)((()=>o[5]||(o[5]=[(0,i.Lk)("i",{class:"fas fa-heart"},null,-1)]))),_:1})])]),(0,i.Lk)("div",d,[(0,i.Lk)("div",v,[o[6]||(o[6]=(0,i.Lk)("i",{class:"fas fa-user"},null,-1)),a.isLoggedIn?((0,i.uX)(),(0,i.CE)("span",h,(0,n.v_)(a.userId),1)):(0,i.Q3)("",!0)]),(0,i.Lk)("button",{onClick:o[0]||(o[0]=(...e)=>s.handleAuthAction&&s.handleAuthAction(...e)),class:"auth-button"},(0,n.v_)(a.isLoggedIn?"Logout":"Login"),1)])],2)}t(4114);function p(e,o,t,l){const i=JSON.parse(localStorage.getItem("users"))||{};i[e]&&i[e]===o?t(o):l()}function m(e,o,t,l){const i=JSON.parse(localStorage.getItem("users"))||{};i[e]?l():(i[e]=o,localStorage.setItem("users",JSON.stringify(i)),t())}const k=async(e,o)=>new Promise(((t,l)=>{p(e,o,(o=>{localStorage.setItem("TMDb-Key",o),localStorage.setItem("userId",e),t("로그인 성공")}),(()=>l("로그인 실패: 잘못된 아이디 또는 비밀번호입니다.")))})),f=async(e,o)=>new Promise(((t,l)=>{m(e,o,(()=>t("회원가입 성공")),(()=>l("회원가입 실패: 이미 존재하는 아이디입니다.")))})),M=()=>!!localStorage.getItem("TMDb-Key")||!!localStorage.getItem("kakaoAccessToken"),w=()=>{localStorage.removeItem("TMDb-Key"),localStorage.removeItem("userId")};var b={name:"AppHeader",data(){return{isScrolled:!1,isLoggedIn:!1,userId:""}},methods:{handleScroll(){this.isScrolled=window.scrollY>50},handleAuthAction(){this.isLoggedIn?(w(),this.isLoggedIn=!1,this.userId="",this.$router.push("/signin")):this.$router.push("/signin")},updateUserInfo(){this.isLoggedIn=M(),this.userId=localStorage.getItem("userId")||"사용자"}},watch:{isLoggedIn(){this.updateUserInfo()}},mounted(){window.addEventListener("scroll",this.handleScroll),this.updateUserInfo()},unmounted(){window.removeEventListener("scroll",this.handleScroll)}},y=t(1241);const L=(0,y.A)(b,[["render",g],["__scopeId","data-v-a5c0de60"]]);var S=L,C={components:{HeaderComponent:S}};const I=(0,y.A)(C,[["render",s]]);var T=I,_=t(1387);const P={class:"home-page"},D={key:0,class:"loading-spinner"},E={key:0,class:"loading-spinner"},F={key:0,class:"loading-spinner"},X={key:0,class:"loading-spinner"};function $(e,o,t,l,a,s){const n=(0,i.g2)("HeroSection"),r=(0,i.g2)("MovieRow");return(0,i.uX)(),(0,i.CE)("div",P,[a.featuredMovies.length?((0,i.uX)(),(0,i.Wv)(n,{key:0,movies:a.featuredMovies},null,8,["movies"])):(0,i.Q3)("",!0),(0,i.Lk)("section",null,[o[0]||(o[0]=(0,i.Lk)("h2",null,"인기 영화",-1)),a.loadingPopular?((0,i.uX)(),(0,i.CE)("div",D,"로딩 중...")):((0,i.uX)(),(0,i.Wv)(r,{key:1,movies:a.popularMovies,onMovieSelected:s.goToMovieDetail,onToggleFavorite:s.toggleFavorite},null,8,["movies","onMovieSelected","onToggleFavorite"]))]),(0,i.Lk)("section",null,[o[1]||(o[1]=(0,i.Lk)("h2",null,"현재 상영작",-1)),a.loadingNowPlaying?((0,i.uX)(),(0,i.CE)("div",E,"로딩 중...")):((0,i.uX)(),(0,i.Wv)(r,{key:1,movies:a.nowPlayingMovies,onMovieSelected:s.goToMovieDetail,onToggleFavorite:s.toggleFavorite},null,8,["movies","onMovieSelected","onToggleFavorite"]))]),(0,i.Lk)("section",null,[o[2]||(o[2]=(0,i.Lk)("h2",null,"최고 평점 영화",-1)),a.loadingTopRated?((0,i.uX)(),(0,i.CE)("div",F,"로딩 중...")):((0,i.uX)(),(0,i.Wv)(r,{key:1,movies:a.topRatedMovies,onMovieSelected:s.goToMovieDetail,onToggleFavorite:s.toggleFavorite},null,8,["movies","onMovieSelected","onToggleFavorite"]))]),(0,i.Lk)("section",null,[o[3]||(o[3]=(0,i.Lk)("h2",null,"개봉 예정작",-1)),a.loadingUpcoming?((0,i.uX)(),(0,i.CE)("div",X,"로딩 중...")):((0,i.uX)(),(0,i.Wv)(r,{key:1,movies:a.upcomingMovies,onMovieSelected:s.goToMovieDetail,onToggleFavorite:s.toggleFavorite},null,8,["movies","onMovieSelected","onToggleFavorite"]))])])}const A={class:"banner-content"},R={class:"title"},U={class:"overview"},W={class:"button-group"},K={class:"dots"},Q=["onClick"],O=["src"];function V(e,o,t,a,s,r){const c=(0,i.g2)("MovieDetail"),u=(0,i.g2)("ReusableModal");return r.currentMovie?((0,i.uX)(),(0,i.CE)("section",{key:0,class:"hero-slider",style:(0,n.Tr)({backgroundImage:`url(${r.backdropUrl})`})},[(0,i.Lk)("div",A,[(0,i.Lk)("h1",R,(0,n.v_)(r.currentMovie.title),1),(0,i.Lk)("p",U,(0,n.v_)(r.currentMovie.overview),1),(0,i.Lk)("div",W,[(0,i.Lk)("button",{class:"play-btn title-btn",onClick:o[0]||(o[0]=(...e)=>r.playTrailer&&r.playTrailer(...e))},o[5]||(o[5]=[(0,i.Lk)("i",{class:"fas fa-play"},null,-1),(0,i.eW)(" 재생")])),(0,i.Lk)("button",{class:"info-btn title-btn",onClick:o[1]||(o[1]=e=>r.openDetailModal(r.currentMovie))},o[6]||(o[6]=[(0,i.Lk)("i",{class:"fas fa-info-circle"},null,-1),(0,i.eW)("상세 정보")]))])]),(0,i.Lk)("div",K,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(t.movies,((e,o)=>((0,i.uX)(),(0,i.CE)("span",{key:e.id,class:(0,n.C4)(["dot",{active:s.currentSlide===o}]),onClick:e=>r.goToSlide(o)},null,10,Q)))),128))]),(0,i.bF)(u,{visible:s.showDetailModal,onClose:r.closeDetailModal},{default:(0,i.k6)((()=>[s.selectedMovie?((0,i.uX)(),(0,i.Wv)(c,{key:0,id:s.selectedMovie.id},null,8,["id"])):(0,i.Q3)("",!0)])),_:1},8,["visible","onClose"]),s.showTrailerModal?((0,i.uX)(),(0,i.CE)("div",{key:0,class:"modal-overlay",onClick:o[4]||(o[4]=(...e)=>r.closeTrailer&&r.closeTrailer(...e))},[(0,i.Lk)("div",{class:"modal-content",onClick:o[3]||(o[3]=(0,l.D$)((()=>{}),["stop"]))},[s.trailerUrl?((0,i.uX)(),(0,i.CE)("iframe",{key:0,width:"100%",height:"100%",src:`https://www.youtube.com/embed/${s.trailerUrl}`,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""},null,8,O)):(0,i.Q3)("",!0),(0,i.Lk)("button",{class:"close-btn",onClick:o[2]||(o[2]=(...e)=>r.closeTrailer&&r.closeTrailer(...e))},"닫기")])])):(0,i.Q3)("",!0)],4)):(0,i.Q3)("",!0)}t(8992),t(4520),t(4603),t(7566),t(8721);var B=t(4373);const x="https://api.themoviedb.org/3",H="ko-KR",J={popular:"/movie/popular",nowPlaying:"/movie/now_playing",upcoming:"/movie/upcoming",topRated:"/movie/top_rated",discover:"/discover/movie"},N=()=>"ae551acb587870f6d116fb74e4e9fe28",j=async(e,o=1,t={})=>{const l=N();if(!l)return console.error("API 키가 설정되지 않았습니다. 로그인 필요"),[];try{const i=new URLSearchParams({api_key:l,language:H,page:o,...t}).toString(),a=`${x}${J[e]}?${i}`,s=await B.A.get(a);return s.data.results||[]}catch(i){return console.error(`영화 데이터를 불러오는 중 오류가 발생했습니다 (${e}):`,i.message),[]}},q=async e=>{const o=N();if(!o)return console.error("API 키가 설정되지 않았습니다. 로그인 필요"),null;try{const t=`${x}/movie/${e}?api_key=${o}&language=${H}`,l=await B.A.get(t);return l.data}catch(t){return console.error(`영화 상세 정보를 가져오는 중 오류가 발생했습니다 (movieId: ${e}):`,t.message),null}},G=async(e,o=1)=>await j("discover",o,{with_genres:e}),Y=async(e,o=1)=>await j("discover",o,{"vote_average.gte":e}),z=async(e,o,t=1)=>await j("discover",t,{with_genres:e,"vote_average.gte":o}),Z=async(e,o=1)=>{const t=N();if(!t)return console.error("API 키가 설정되지 않았습니다. 로그인 필요"),[];try{const l=`${x}/search/movie?api_key=${t}&language=${H}&query=${encodeURIComponent(e)}&page=${o}`,i=await B.A.get(l);return i.data.results||[]}catch(l){return console.error(`영화 검색 중 오류가 발생했습니다 (query: ${e}):`,l.message),[]}},ee=async(e=1)=>await j("popular",e),oe=async(e=1)=>await j("nowPlaying",e),te=async(e=1)=>await j("upcoming",e),le=async(e=1)=>await j("topRated",e),ie=async e=>{const o=N();if(!o)return console.error("API 키가 설정되지 않았습니다. 로그인 필요"),null;try{const t=`${x}/movie/${e}/videos?api_key=${o}&language=${H}`,l=await B.A.get(t),i=l.data.results.filter((e=>"Trailer"===e.type&&"YouTube"===e.site));return i.length?i[0].key:null}catch(t){return console.error(`예고편 데이터를 불러오는 중 오류가 발생했습니다 (movieId: ${e}):`,t.message),null}};function ae(e,o,t,a,s,n){return(0,i.uX)(),(0,i.Wv)(l.eB,{name:"fade-zoom"},{default:(0,i.k6)((()=>[t.visible?((0,i.uX)(),(0,i.CE)("div",{key:0,class:"modal-overlay",onClick:o[2]||(o[2]=(...e)=>n.closeModal&&n.closeModal(...e))},[(0,i.Lk)("div",{class:"modal-content",onClick:o[1]||(o[1]=(0,l.D$)((()=>{}),["stop"]))},[(0,i.RG)(e.$slots,"default",{},void 0,!0),(0,i.Lk)("button",{class:"close-btn",onClick:o[0]||(o[0]=(...e)=>n.closeModal&&n.closeModal(...e))},"닫기")])])):(0,i.Q3)("",!0)])),_:3})}var se={name:"ReusableModal",props:{visible:{type:Boolean,required:!0}},emits:["close"],methods:{closeModal(){this.$emit("close")}}};const ne=(0,y.A)(se,[["render",ae],["__scopeId","data-v-5a092d7a"]]);var re=ne;const ce={key:0,class:"movie-detail"},ue={class:"overlay"},de={class:"buttons"},ve=["src"],he={key:1};function ge(e,o,t,a,s,r){return s.movie?((0,i.uX)(),(0,i.CE)("div",ce,[(0,i.Lk)("div",{class:"movie-header",style:(0,n.Tr)({backgroundImage:`url(${r.backdropUrl})`})},[(0,i.Lk)("div",ue,[(0,i.Lk)("h1",null,(0,n.v_)(s.movie.title),1),(0,i.Lk)("p",null,(0,n.v_)(s.movie.overview),1),(0,i.Lk)("div",de,[(0,i.Lk)("button",{class:"play-btn",onClick:o[0]||(o[0]=(...e)=>r.playTrailer&&r.playTrailer(...e))},"예고편 재생"),(0,i.Lk)("span",null,"평점: "+(0,n.v_)(s.movie.vote_average),1)])])],4),s.showTrailerModal?((0,i.uX)(),(0,i.CE)("div",{key:0,class:"modal-overlay",onClick:o[3]||(o[3]=(...e)=>r.closeTrailer&&r.closeTrailer(...e))},[(0,i.Lk)("div",{class:"modal-content",onClick:o[2]||(o[2]=(0,l.D$)((()=>{}),["stop"]))},[s.trailerUrl?((0,i.uX)(),(0,i.CE)("iframe",{key:0,width:"100%",height:"100%",src:`https://www.youtube.com/embed/${s.trailerUrl}`,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""},null,8,ve)):(0,i.Q3)("",!0),(0,i.Lk)("button",{class:"close-btn",onClick:o[1]||(o[1]=(...e)=>r.closeTrailer&&r.closeTrailer(...e))},"닫기")])])):(0,i.Q3)("",!0)])):((0,i.uX)(),(0,i.CE)("p",he,"영화 데이터를 불러오는 중..."))}var pe={name:"MovieDetail",props:["id"],data(){return{movie:null,showTrailerModal:!1,trailerUrl:null}},computed:{backdropUrl(){return this.movie?`https://image.tmdb.org/t/p/original${this.movie.backdrop_path}`:""}},methods:{async loadMovieDetails(){this.movie=await q(this.id)},async playTrailer(){const e=await ie(this.id);e?(this.trailerUrl=e,this.showTrailerModal=!0):alert("예고편을 찾을 수 없습니다.")},closeTrailer(){this.showTrailerModal=!1,this.trailerUrl=null}},async created(){await this.loadMovieDetails()}};const me=(0,y.A)(pe,[["render",ge],["__scopeId","data-v-2849684e"]]);var ke=me,fe={name:"HeroSection",components:{ReusableModal:re,MovieDetail:ke},props:{movies:{type:Array,required:!0,default:()=>[]}},data(){return{currentSlide:0,showTrailerModal:!1,trailerUrl:null,slideInterval:null,isLoading:!0,showDetailModal:!1,selectedMovie:null}},computed:{currentMovie(){return this.movies[this.currentSlide]},backdropUrl(){return this.currentMovie?`https://image.tmdb.org/t/p/original${this.currentMovie.backdrop_path}`:""}},methods:{async playTrailer(){if(this.currentMovie){const e=await ie(this.currentMovie.id);e?(this.trailerUrl=e,this.showTrailerModal=!0):alert("예고편을 찾을 수 없습니다.")}},closeTrailer(){this.showTrailerModal=!1,this.trailerUrl=null},openDetailModal(e){this.selectedMovie=e,this.showDetailModal=!0},closeDetailModal(){this.showDetailModal=!1,this.selectedMovie=null},goToSlide(e){this.currentSlide=e,clearInterval(this.slideInterval),this.startAutoSlide()},startAutoSlide(){this.movies.length>1&&(this.slideInterval=setInterval((()=>{this.currentSlide=(this.currentSlide+1)%this.movies.length}),1e4))}},mounted(){this.movies.length>0&&(this.isLoading=!1,this.startAutoSlide()),this.startAutoSlide()},beforeUnmount(){clearInterval(this.slideInterval)}};const Me=(0,y.A)(fe,[["render",V],["__scopeId","data-v-65992854"]]);var we=Me;const be={class:"movie-row-container"},ye={ref:"movieRow",class:"movie-row"},Le=["onMouseover"],Se={class:"poster-container"},Ce=["src","alt","onClick"],Ie=["onClick"],Te={class:"movie-title"};function _e(e,o,t,a,s,r){const c=(0,i.g2)("MovieDetail"),u=(0,i.g2)("ReusableModal");return(0,i.uX)(),(0,i.CE)("div",be,[(0,i.Lk)("button",{class:"scroll-button left",onClick:o[0]||(o[0]=(...e)=>r.scrollLeft&&r.scrollLeft(...e))},o[3]||(o[3]=[(0,i.Lk)("i",{class:"fas fa-chevron-left"},null,-1)])),(0,i.Lk)("div",ye,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(t.movies,(e=>((0,i.uX)(),(0,i.CE)("div",{key:e.id,class:"movie-item",onMouseover:o=>s.hover=e.id,onMouseleave:o[1]||(o[1]=e=>s.hover=null)},[(0,i.Lk)("div",Se,[(0,i.Lk)("img",{src:`https://image.tmdb.org/t/p/w500${e.poster_path}`,alt:e.title,class:(0,n.C4)({hover:s.hover===e.id}),onClick:o=>r.handleMovieClick(e.id)},null,10,Ce),(0,i.Lk)("button",{class:(0,n.C4)(["wishlist-btn",{active:r.isInWishlist(e.id)}]),onClick:(0,l.D$)((o=>r.toggleWishlist(e)),["stop"])},[(0,i.Lk)("i",{class:(0,n.C4)(r.isInWishlist(e.id)?"fas fa-star":"far fa-star")},null,2)],10,Ie)]),(0,i.Lk)("p",Te,(0,n.v_)(e.title),1)],40,Le)))),128))],512),(0,i.Lk)("button",{class:"scroll-button right",onClick:o[2]||(o[2]=(...e)=>r.scrollRight&&r.scrollRight(...e))},o[4]||(o[4]=[(0,i.Lk)("i",{class:"fas fa-chevron-right"},null,-1)])),(0,i.bF)(u,{visible:s.showDetailModal,onClose:r.closeDetailModal},{default:(0,i.k6)((()=>[s.selectedMovie?((0,i.uX)(),(0,i.Wv)(c,{key:0,id:s.selectedMovie.id},null,8,["id"])):(0,i.Q3)("",!0)])),_:1},8,["visible","onClose"])])}t(2577),t(7550);function Pe(){return JSON.parse(localStorage.getItem("wishlist"))||[]}function De(e){localStorage.setItem("wishlist",JSON.stringify(e))}function Ee(e){const o=Pe();o.find((o=>o.id===e.id))||(o.push(e),De(o))}function Fe(e){const o=Pe().filter((o=>o.id!==e));De(o)}function Xe(e){return Pe().some((o=>o.id===e))}function $e(){return JSON.parse(localStorage.getItem("recentSearches"))||[]}function Ae(e){if(!e.trim())return;const o=$e(),t=[e,...o.filter((o=>o!==e))].slice(0,10);localStorage.setItem("recentSearches",JSON.stringify(t))}function Re(e){const o=$e().filter((o=>o!==e));localStorage.setItem("recentSearches",JSON.stringify(o))}function Ue(){localStorage.removeItem("recentSearches")}var We={components:{ReusableModal:re,MovieDetail:ke},props:{movies:{type:Array,default:()=>[]}},data(){return{hover:null,showDetailModal:!1,selectedMovie:null}},methods:{scrollLeft(){this.$refs.movieRow.scrollBy({left:-300,behavior:"smooth"})},scrollRight(){this.$refs.movieRow.scrollBy({left:300,behavior:"smooth"})},handleMovieClick(e){const o=this.movies.find((o=>o.id===e));o&&(this.selectedMovie=o,this.showDetailModal=!0)},closeDetailModal(){this.showDetailModal=!1,this.selectedMovie=null},toggleWishlist(e){Xe(e.id)?Fe(e.id):Ee(e),this.$forceUpdate()},isInWishlist(e){return Xe(e)}}};const Ke=(0,y.A)(We,[["render",_e],["__scopeId","data-v-981fa302"]]);var Qe=Ke,Oe={components:{HeroSection:we,MovieRow:Qe},data(){return{featuredMovies:[],popularMovies:[],nowPlayingMovies:[],topRatedMovies:[],upcomingMovies:[],loadingPopular:!0,loadingNowPlaying:!0,loadingTopRated:!0,loadingUpcoming:!0,favoriteMovies:JSON.parse(localStorage.getItem("favoriteMovies"))||[]}},methods:{async loadMovies(){try{this.popularMovies=await ee(),this.loadingPopular=!1,this.nowPlayingMovies=await oe(),this.loadingNowPlaying=!1,this.topRatedMovies=await le(),this.loadingTopRated=!1,this.upcomingMovies=await te(),this.loadingUpcoming=!1,this.featuredMovies=this.popularMovies.slice(0,5)}catch(e){console.error("영화 데이터를 로드하는 중 오류가 발생했습니다:",e)}},toggleFavorite(e){const o=this.favoriteMovies.findIndex((o=>o.id===e.id));o>=0?this.favoriteMovies.splice(o,1):this.favoriteMovies.push(e),localStorage.setItem("favoriteMovies",JSON.stringify(this.favoriteMovies))},goToMovieDetail(e){this.$router.push({name:"MovieDetail",params:{id:e}})}},mounted(){this.loadMovies()}};const Ve=(0,y.A)(Oe,[["render",$],["__scopeId","data-v-1e0f524e"]]);var Be=Ve;const xe={class:"popular-movies"},He={class:"view-toggle-container"},Je={class:"view-toggle"};function Ne(e,o,t,l,a,s){const r=(0,i.g2)("TableView"),c=(0,i.g2)("InfiniteScrollView");return(0,i.uX)(),(0,i.CE)("div",xe,[(0,i.Lk)("div",He,[(0,i.Lk)("div",Je,[(0,i.Lk)("button",{onClick:o[0]||(o[0]=e=>l.changeView("table")),class:(0,n.C4)({active:"table"===l.viewMode})},o[2]||(o[2]=[(0,i.Lk)("i",{class:"fas fa-table"},null,-1)]),2),(0,i.Lk)("button",{onClick:o[1]||(o[1]=e=>l.changeView("infinite")),class:(0,n.C4)({active:"infinite"===l.viewMode})},o[3]||(o[3]=[(0,i.Lk)("i",{class:"fas fa-infinity"},null,-1)]),2)])]),"table"===l.viewMode?((0,i.uX)(),(0,i.Wv)(r,{key:0,movies:l.movies,currentPage:l.currentPage,hasMorePages:l.hasMorePages,onFetchPage:l.fetchMovies,onMovieSelected:l.goToMovieDetail},null,8,["movies","currentPage","hasMorePages","onFetchPage","onMovieSelected"])):(0,i.Q3)("",!0),"infinite"===l.viewMode?((0,i.uX)(),(0,i.Wv)(c,{key:1,movies:l.movies,loading:l.loading,onLoadMore:l.loadMoreMovies,onMovieSelected:l.goToMovieDetail},null,8,["movies","loading","onLoadMore","onMovieSelected"])):(0,i.Q3)("",!0)])}var je=t(144);function qe(e="popular"){const o=(0,je.KR)([]),t=(0,je.KR)(!0),l=(0,je.KR)(1),i=(0,je.KR)(!0),a=async(a,s=!1)=>{t.value=!0;try{let t;switch(e){case"popular":t=await ee(a);break;case"nowPlaying":t=await oe(a);break;case"topRated":t=await le(a);break;case"upcoming":t=await te(a);break;default:console.error("잘못된 카테고리입니다."),t=[]}o.value=s?[...o.value,...t]:t,l.value=a,i.value=t.length>0}catch(n){console.error("영화 데이터를 불러오는 중 오류:",n)}finally{t.value=!1}},s=async()=>{!t.value&&i.value&&await a(l.value+1,!0)};return{movies:o,loading:t,currentPage:l,hasMorePages:i,fetchMovies:a,loadMoreMovies:s}}const Ge={class:"table-view"},Ye={class:"poster-container"},ze=["src","alt","onClick"],Ze=["onClick"],eo={class:"movie-title"},oo={class:"pagination"},to=["disabled"],lo=["disabled"];function io(e,o,t,a,s,r){const c=(0,i.g2)("MovieDetail"),u=(0,i.g2)("ReusableModal");return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.Lk)("div",Ge,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(t.movies,(e=>((0,i.uX)(),(0,i.CE)("div",{key:e.id,class:"movie-item"},[(0,i.Lk)("div",Ye,[(0,i.Lk)("img",{src:`https://image.tmdb.org/t/p/w500${e.poster_path}`,alt:e.title,class:"poster-image",onClick:o=>r.selectMovie(e.id)},null,8,ze),(0,i.Lk)("button",{class:(0,n.C4)(["wishlist-btn",{active:r.isInWishlist(e.id)}]),onClick:(0,l.D$)((o=>r.toggleWishlist(e)),["stop"])},[(0,i.Lk)("i",{class:(0,n.C4)(r.isInWishlist(e.id)?"fas fa-star":"far fa-star")},null,2)],10,Ze)]),(0,i.Lk)("h3",eo,(0,n.v_)(e.title),1)])))),128)),(0,i.Lk)("div",oo,[(0,i.Lk)("button",{onClick:o[0]||(o[0]=o=>e.$emit("fetchPage",t.currentPage-1)),disabled:1===t.currentPage}," 이전 ",8,to),(0,i.Lk)("span",null,(0,n.v_)(t.currentPage),1),(0,i.Lk)("button",{onClick:o[1]||(o[1]=o=>e.$emit("fetchPage",t.currentPage+1)),disabled:!t.hasMorePages}," 다음 ",8,lo)])]),(0,i.bF)(u,{visible:s.showDetailModal,onClose:r.closeDetailModal},{default:(0,i.k6)((()=>[s.selectedMovie?((0,i.uX)(),(0,i.Wv)(c,{key:0,id:s.selectedMovie.id},null,8,["id"])):(0,i.Q3)("",!0)])),_:1},8,["visible","onClose"])],64)}var ao={name:"TableView",components:{MovieDetail:ke,ReusableModal:re},data(){return{showDetailModal:!1,selectedMovie:null}},props:{movies:Array,currentPage:Number,hasMorePages:Boolean},methods:{selectMovie(e){const o=this.movies.find((o=>o.id===e));o&&(this.selectedMovie=o,this.showDetailModal=!0)},closeDetailModal(){this.showDetailModal=!1,this.selectedMovie=null},toggleWishlist(e){Xe(e.id)?Fe(e.id):Ee(e),this.$forceUpdate()},isInWishlist(e){return Xe(e)}}};const so=(0,y.A)(ao,[["render",io],["__scopeId","data-v-2305ce56"]]);var no=so;const ro={class:"infinite-scroll"},co={class:"poster-container"},uo=["src","alt","onClick"],vo=["onClick"],ho={class:"movie-title"},go={key:0,class:"loading"};function po(e,o,t,a,s,r){const c=(0,i.g2)("MovieDetail"),u=(0,i.g2)("ReusableModal");return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.Lk)("div",ro,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(t.movies,(e=>((0,i.uX)(),(0,i.CE)("div",{key:e.id,class:"movie-item"},[(0,i.Lk)("div",co,[(0,i.Lk)("img",{src:`https://image.tmdb.org/t/p/w500${e.poster_path}`,alt:e.title,class:"poster-image",onClick:o=>r.selectMovie(e.id)},null,8,uo),(0,i.Lk)("button",{class:(0,n.C4)(["wishlist-btn",{active:r.isInWishlist(e.id)}]),onClick:(0,l.D$)((o=>r.toggleWishlist(e)),["stop"])},[(0,i.Lk)("i",{class:(0,n.C4)(r.isInWishlist(e.id)?"fas fa-star":"far fa-star")},null,2)],10,vo)]),(0,i.Lk)("h3",ho,(0,n.v_)(e.title),1)])))),128)),t.loading?((0,i.uX)(),(0,i.CE)("div",go,o[1]||(o[1]=[(0,i.Lk)("div",{class:"spinner"},null,-1),(0,i.Lk)("p",{class:"loading-text"},"영화 데이터를 불러오는 중입니다...",-1)]))):(0,i.Q3)("",!0),s.showTopButton?((0,i.uX)(),(0,i.CE)("button",{key:1,class:"top-button",onClick:o[0]||(o[0]=(...e)=>r.scrollToTop&&r.scrollToTop(...e))},o[2]||(o[2]=[(0,i.Lk)("i",{class:"fas fa-arrow-up"},null,-1)]))):(0,i.Q3)("",!0)]),(0,i.bF)(u,{visible:s.showDetailModal,onClose:r.closeDetailModal},{default:(0,i.k6)((()=>[s.selectedMovie?((0,i.uX)(),(0,i.Wv)(c,{key:0,id:s.selectedMovie.id},null,8,["id"])):(0,i.Q3)("",!0)])),_:1},8,["visible","onClose"])],64)}var mo={name:"InfiniteScrollView",components:{ReusableModal:re,MovieDetail:ke},props:{movies:Array,loading:Boolean},data(){return{showTopButton:!1,showDetailModal:!1,selectedMovie:null}},mounted(){window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){const e=window.innerHeight+window.scrollY>=document.documentElement.offsetHeight-100;e&&!this.loading&&this.$emit("loadMore"),this.showTopButton=window.scrollY>400},selectMovie(e){const o=this.movies.find((o=>o.id===e));o&&(this.selectedMovie=o,this.showDetailModal=!0)},closeDetailModal(){this.showDetailModal=!1,this.selectedMovie=null},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})},toggleWishlist(e){console.log("Toggling wishlist for movie: ",e),Xe(e.id)?(console.log("Removing from wishlist: ",e.id),Fe(e.id)):(console.log("Adding to wishlist: ",e),Ee(e)),this.$forceUpdate()},isInWishlist(e){return Xe(e)}}};const ko=(0,y.A)(mo,[["render",po],["__scopeId","data-v-9ac72b6e"]]);var fo=ko,Mo={name:"PopularMovies",components:{TableView:no,InfiniteScrollView:fo},setup(){const{movies:e,loading:o,currentPage:t,hasMorePages:l,fetchMovies:a,loadMoreMovies:s}=qe(),n=(0,je.KR)("table"),r=(0,_.rd)(),c=e=>{n.value=e,a(1,!1)},u=e=>{r.push({name:"MovieDetail",params:{id:e}})};return(0,i.sV)((()=>{a(t.value,!1)})),{movies:e,loading:o,currentPage:t,hasMorePages:l,viewMode:n,changeView:c,goToMovieDetail:u,fetchMovies:a,loadMoreMovies:s}}};const wo=(0,y.A)(Mo,[["render",Ne],["__scopeId","data-v-3f4e7341"]]);var bo=wo;const yo={class:"search-movies"},Lo={class:"search-bar"},So={key:0,class:"recent-searches"},Co=["onClick"],Io=["onClick"],To={key:1,class:"filter-section"},_o={key:2,class:"loading"};function Po(e,o,t,a,s,r){const c=(0,i.g2)("SearchFilter"),u=(0,i.g2)("TableView");return(0,i.uX)(),(0,i.CE)("div",yo,[(0,i.Lk)("div",Lo,[(0,i.bo)((0,i.Lk)("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=e=>a.searchQuery=e),placeholder:"제목으로 검색하세요",onKeyup:o[1]||(o[1]=(0,l.jR)(((...e)=>a.applySearch&&a.applySearch(...e)),["enter"]))},null,544),[[l.Jo,a.searchQuery]]),(0,i.Lk)("button",{onClick:o[2]||(o[2]=(...e)=>a.applySearch&&a.applySearch(...e))},o[4]||(o[4]=[(0,i.Lk)("i",{class:"fas fa-search"},null,-1)]))]),a.recentSearches.length?((0,i.uX)(),(0,i.CE)("div",So,[o[5]||(o[5]=(0,i.Lk)("h4",null,"최근 검색어",-1)),(0,i.Lk)("ul",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(a.recentSearches,(e=>((0,i.uX)(),(0,i.CE)("li",{key:e},[(0,i.Lk)("span",{onClick:o=>a.selectRecentSearch(e),class:"search-text"},(0,n.v_)(e),9,Co),(0,i.Lk)("button",{onClick:o=>a.removeSearch(e),class:"remove-btn"},"❌",8,Io)])))),128))]),(0,i.Lk)("button",{class:"clear-btn",onClick:o[3]||(o[3]=(...e)=>a.clearSearchHistory&&a.clearSearchHistory(...e))},"전체 기록 삭제")])):(0,i.Q3)("",!0),a.searchQuery?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",To,[(0,i.bF)(c,{onApplyFilters:a.applyFilters,onClearFilters:a.clearFilters},null,8,["onApplyFilters","onClearFilters"])])),a.loading?((0,i.uX)(),(0,i.CE)("div",_o,o[6]||(o[6]=[(0,i.Lk)("div",{class:"spinner"},null,-1),(0,i.Lk)("p",{class:"loading-text"},"검색 중...",-1)]))):a.movies.length>0?((0,i.uX)(),(0,i.Wv)(u,{key:3,movies:a.movies,currentPage:a.currentPage,hasMorePages:a.hasMorePages,onFetchPage:a.fetchMovies,onMovieSelected:a.goToMovieDetail},null,8,["movies","currentPage","hasMorePages","onFetchPage","onMovieSelected"])):(0,i.Q3)("",!0)])}const Do={class:"search-filter"},Eo={class:"filter-card"},Fo={class:"filter-card"},Xo={class:"filter-card"},$o={class:"filter-actions"};function Ao(e,o,t,a,s,n){return(0,i.uX)(),(0,i.CE)("div",Do,[(0,i.Lk)("div",Eo,[o[6]||(o[6]=(0,i.Lk)("label",{for:"genre-select"},[(0,i.Lk)("i",{class:"fas fa-film"}),(0,i.eW)(" 장르 ")],-1)),(0,i.bo)((0,i.Lk)("select",{id:"genre-select","onUpdate:modelValue":o[0]||(o[0]=e=>s.selectedGenre=e),class:"filter-select"},o[5]||(o[5]=[(0,i.Fv)('<option value="" data-v-7d54cd43>선택 안함</option><option value="28" data-v-7d54cd43>액션</option><option value="12" data-v-7d54cd43>모험</option><option value="16" data-v-7d54cd43>애니메이션</option><option value="35" data-v-7d54cd43>코미디</option>',5)]),512),[[l.u1,s.selectedGenre]])]),(0,i.Lk)("div",Fo,[o[8]||(o[8]=(0,i.Lk)("label",{for:"rating-select"},[(0,i.Lk)("i",{class:"fas fa-star"}),(0,i.eW)(" 평점 ")],-1)),(0,i.bo)((0,i.Lk)("select",{id:"rating-select","onUpdate:modelValue":o[1]||(o[1]=e=>s.selectedRating=e),class:"filter-select"},o[7]||(o[7]=[(0,i.Lk)("option",{value:""},"선택 안함",-1),(0,i.Lk)("option",{value:"8"},"8 이상",-1),(0,i.Lk)("option",{value:"7"},"7 이상",-1),(0,i.Lk)("option",{value:"6"},"6 이상",-1)]),512),[[l.u1,s.selectedRating]])]),(0,i.Lk)("div",Xo,[o[10]||(o[10]=(0,i.Lk)("label",{for:"sort-select"},[(0,i.Lk)("i",{class:"fas fa-sort"}),(0,i.eW)(" 정렬 ")],-1)),(0,i.bo)((0,i.Lk)("select",{id:"sort-select","onUpdate:modelValue":o[2]||(o[2]=e=>s.selectedSort=e),class:"filter-select"},o[9]||(o[9]=[(0,i.Lk)("option",{value:""},"선택 안함",-1),(0,i.Lk)("option",{value:"popularity"},"인기순",-1),(0,i.Lk)("option",{value:"release_date"},"개봉년도",-1)]),512),[[l.u1,s.selectedSort]])]),(0,i.Lk)("div",$o,[(0,i.Lk)("button",{onClick:o[3]||(o[3]=(...e)=>n.applyFilters&&n.applyFilters(...e)),class:"filter-btn apply-btn"},o[11]||(o[11]=[(0,i.Lk)("i",{class:"fas fa-check"},null,-1),(0,i.eW)(" 적용 ")])),(0,i.Lk)("button",{onClick:o[4]||(o[4]=(...e)=>n.clearFilters&&n.clearFilters(...e)),class:"filter-btn clear-btn"},o[12]||(o[12]=[(0,i.Lk)("i",{class:"fas fa-redo"},null,-1),(0,i.eW)(" 초기화 ")]))])])}var Ro={name:"SearchFilter",data(){return{selectedGenre:"",selectedRating:"",selectedSort:""}},methods:{applyFilters(){this.$emit("applyFilters",{genre:this.selectedGenre,rating:this.selectedRating,sort:this.selectedSort})},clearFilters(){this.selectedGenre="",this.selectedRating="",this.selectedSort="",this.$emit("clearFilters")}}};const Uo=(0,y.A)(Ro,[["render",Ao],["__scopeId","data-v-7d54cd43"]]);var Wo=Uo,Ko={name:"SearchMovies",components:{TableView:no,SearchFilter:Wo},setup(){const e=(0,_.rd)(),o=(0,je.KR)(""),t=(0,je.KR)(null),l=(0,je.KR)(null),i=(0,je.KR)(""),a=(0,je.KR)([]),s=(0,je.KR)(!1),n=(0,je.KR)(1),r=(0,je.KR)(!0),c=(0,je.KR)($e()),u=async()=>{if(o.value.trim()){Ae(o.value),c.value=$e(),s.value=!0,n.value=1;try{a.value=await Z(o.value,n.value),r.value=a.value.length>0}catch(e){console.error("영화 검색 중 오류가 발생했습니다:",e)}finally{s.value=!1}}else g()},d=async e=>{s.value=!0,n.value=1,t.value=e.genre,l.value=e.rating,i.value=e.sort;try{t.value&&l.value?a.value=await z(t.value,l.value,n.value):t.value?a.value=await G(t.value,n.value):l.value?a.value=await Y(l.value,n.value):a.value=await ee(n.value),i.value&&v(i.value),r.value=a.value.length>0}catch(o){console.error("영화 필터링 중 오류가 발생했습니다:",o)}finally{s.value=!1}},v=e=>{"popularity"===e?a.value.sort(((e,o)=>o.popularity-e.popularity)):"release_date"===e&&a.value.sort(((e,o)=>new Date(o.release_date)-new Date(e.release_date)))},h=async()=>{t.value=null,l.value=null,i.value="",o.value="",n.value=1,await g()},g=async()=>{s.value=!0;try{a.value=await ee(n.value),r.value=a.value.length>0}catch(e){console.error("기본 영화를 불러오는 중 오류가 발생했습니다:",e)}finally{s.value=!1}},p=async e=>{s.value=!0,n.value=e;try{if(o.value){const t=await Z(o.value,e);a.value=t}else t.value||l.value?t.value&&l.value?a.value=await z(t.value,l.value,e):t.value?a.value=await G(t.value,e):l.value&&(a.value=await Y(l.value,e)):a.value=await ee(e);i.value&&v(i.value),r.value=a.value.length>0}catch(c){console.error("페이지 변경 중 오류가 발생했습니다:",c)}finally{s.value=!1}},m=o=>{e.push({name:"MovieDetail",params:{id:o}})},k=e=>{o.value=e,u()},f=()=>{Ue(),c.value=[]},M=e=>{Re(e),c.value=$e()};return{searchQuery:o,movies:a,loading:s,currentPage:n,hasMorePages:r,recentSearches:c,applySearch:u,applyFilters:d,clearFilters:h,fetchMovies:p,goToMovieDetail:m,selectRecentSearch:k,removeSearch:M,clearSearchHistory:f}}};const Qo=(0,y.A)(Ko,[["render",Po],["__scopeId","data-v-1632a7b0"]]);var Oo=Qo;const Vo={class:"wishlist-movies"},Bo={key:0,class:"empty-message"};function xo(e,o,t,l,a,s){const n=(0,i.g2)("wishlist-infinite-view");return(0,i.uX)(),(0,i.CE)("div",Vo,[0===a.wishlistMovies.length?((0,i.uX)(),(0,i.CE)("div",Bo," 위시리스트에 영화가 없습니다. ")):((0,i.uX)(),(0,i.Wv)(n,{key:1}))])}const Ho={class:"wishlist-infinite-view"},Jo={class:"movies-grid"},No=["src","alt","onClick"],jo=["onClick"],qo={key:0,class:"loading-message"},Go={key:1,class:"end-message"};function Yo(e,o,t,l,a,s){const r=(0,i.g2)("MovieDetail"),c=(0,i.g2)("ReusableModal");return(0,i.uX)(),(0,i.CE)("div",Ho,[(0,i.Lk)("div",Jo,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(a.movies,(e=>((0,i.uX)(),(0,i.CE)("div",{key:e.id,class:"movie-item"},[(0,i.Lk)("img",{src:`https://image.tmdb.org/t/p/w500${e.poster_path}`,alt:e.title,class:"poster-image",onClick:o=>s.openMovieDetail(e.id)},null,8,No),(0,i.Lk)("p",null,(0,n.v_)(e.title),1),(0,i.Lk)("button",{class:"wishlist-btn",onClick:o=>s.removeFromWishlist(e.id)},o[1]||(o[1]=[(0,i.Lk)("i",{class:"fas fa-trash"},null,-1)]),8,jo)])))),128))]),a.isLoading?((0,i.uX)(),(0,i.CE)("div",qo,"더 불러오는 중...")):(0,i.Q3)("",!0),a.noMoreMovies?((0,i.uX)(),(0,i.CE)("div",Go,"더 이상 불러올 영화가 없습니다.")):(0,i.Q3)("",!0),(0,i.bF)(c,{visible:a.showMovieDetail,onClose:s.closeMovieDetail},{default:(0,i.k6)((()=>[(0,i.bF)(r,{id:a.selectedMovieId},null,8,["id"])])),_:1},8,["visible","onClose"]),a.showTopButton?((0,i.uX)(),(0,i.CE)("button",{key:2,class:"top-btn",onClick:o[0]||(o[0]=(...e)=>s.scrollToTop&&s.scrollToTop(...e))},o[2]||(o[2]=[(0,i.Lk)("i",{class:"fas fa-chevron-up"},null,-1)]))):(0,i.Q3)("",!0)])}var zo={name:"WishlistInfiniteView",components:{ReusableModal:re,MovieDetail:ke},data(){return{movies:[],isLoading:!1,noMoreMovies:!1,page:1,moviesPerPage:10,showMovieDetail:!1,selectedMovieId:null,showTopButton:!1}},methods:{loadMoreMovies(){if(this.isLoading||this.noMoreMovies)return;this.isLoading=!0;const e=Pe(),o=(this.page-1)*this.moviesPerPage,t=this.page*this.moviesPerPage,l=e.slice(o,t);l.length>0?(this.movies=[...this.movies,...l],this.page+=1):this.noMoreMovies=!0,this.isLoading=!1},removeFromWishlist(e){Fe(e),this.movies=this.movies.filter((o=>o.id!==e))},openMovieDetail(e){this.selectedMovieId=e,this.showMovieDetail=!0},closeMovieDetail(){this.showMovieDetail=!1,this.selectedMovieId=null},handleScroll(){const e=100,o=window.innerHeight+window.scrollY,t=document.documentElement.offsetHeight;o+e>=t&&this.loadMoreMovies(),this.showTopButton=window.scrollY>300},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}},mounted(){this.loadMoreMovies(),window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)}};const Zo=(0,y.A)(zo,[["render",Yo],["__scopeId","data-v-747cc4b0"]]);var et=Zo,ot={name:"WishlistMovies",components:{WishlistInfiniteView:et},data(){return{wishlistMovies:[]}},created(){this.wishlistMovies=Pe()}};const tt=(0,y.A)(ot,[["render",xo],["__scopeId","data-v-a9949af0"]]);var lt=tt;const it={class:"auth-wrapper"},at={class:"auth-container"},st={key:0},nt={class:"checkbox-container"},rt={key:1,class:"checkbox-container"},ct={type:"submit",class:"submit-button"},ut={key:0,class:"error"};function dt(e,o,t,a,s,r){return(0,i.uX)(),(0,i.CE)("div",it,[(0,i.Lk)("div",at,[(0,i.bF)(l.eB,{name:"slide-fade",mode:"out-in"},{default:(0,i.k6)((()=>[((0,i.uX)(),(0,i.CE)("div",{key:s.isSignUp?"signup":"signin",class:"auth-card"},[(0,i.Lk)("h2",null,(0,n.v_)(s.isSignUp?"회원가입":"로그인"),1),(0,i.Lk)("form",{onSubmit:o[6]||(o[6]=(0,l.D$)(((...e)=>r.handleSubmit&&r.handleSubmit(...e)),["prevent"]))},[(0,i.bo)((0,i.Lk)("input",{type:"email","onUpdate:modelValue":o[0]||(o[0]=e=>s.email=e),placeholder:"이메일",required:"",onBlur:o[1]||(o[1]=(...o)=>e.validateEmail&&e.validateEmail(...o))},null,544),[[l.Jo,s.email]]),(0,i.bo)((0,i.Lk)("input",{type:"password","onUpdate:modelValue":o[2]||(o[2]=e=>s.password=e),placeholder:"비밀번호",required:""},null,512),[[l.Jo,s.password]]),s.isSignUp?((0,i.uX)(),(0,i.CE)("div",st,[(0,i.bo)((0,i.Lk)("input",{type:"password","onUpdate:modelValue":o[3]||(o[3]=e=>s.confirmPassword=e),placeholder:"비밀번호 확인",required:""},null,512),[[l.Jo,s.confirmPassword]]),(0,i.Lk)("div",nt,[(0,i.bo)((0,i.Lk)("input",{type:"checkbox","onUpdate:modelValue":o[4]||(o[4]=e=>s.agreedTerms=e),required:""},null,512),[[l.lH,s.agreedTerms]]),o[9]||(o[9]=(0,i.Lk)("label",null,"약관 동의",-1))])])):((0,i.uX)(),(0,i.CE)("div",rt,[(0,i.bo)((0,i.Lk)("input",{type:"checkbox","onUpdate:modelValue":o[5]||(o[5]=e=>s.rememberMe=e)},null,512),[[l.lH,s.rememberMe]]),o[10]||(o[10]=(0,i.Lk)("label",null,"Remember me",-1))])),(0,i.Lk)("button",ct,(0,n.v_)(s.isSignUp?"회원가입":"로그인"),1)],32),(0,i.Lk)("div",{onClick:o[7]||(o[7]=(...e)=>r.kakaoLoginBtn&&r.kakaoLoginBtn(...e))},"카카오로 로그인하기"),(0,i.Lk)("button",{type:"button",class:"toggle-button",onClick:o[8]||(o[8]=(...e)=>r.toggleMode&&r.toggleMode(...e))},(0,n.v_)(s.isSignUp?"로그인으로 이동":"회원가입"),1),s.errorMessage?((0,i.uX)(),(0,i.CE)("div",ut,(0,n.v_)(s.errorMessage),1)):(0,i.Q3)("",!0)]))])),_:1})])])}var vt={name:"AuthPage",data(){return{isSignUp:"/signup"===this.$route.path,email:localStorage.getItem("savedEmail")||"",password:localStorage.getItem("savedPassword")||"",confirmPassword:"",agreedTerms:!1,rememberMe:"true"===localStorage.getItem("keepLogin"),errorMessage:null}},methods:{kakaoLoginBtn:function(){window.Kakao.isInitialized()||window.Kakao.init("eb4ece2be8914c12d96392b9714d9bbd"),window.Kakao.Auth.getAccessToken()&&(window.Kakao.API.request({url:"/v1/user/unlink",success:function(e){console.log(e)},fail:function(e){console.log(e)}}),window.Kakao.Auth.setAccessToken(void 0)),window.Kakao.Auth.login({success:e=>{console.log("Access Token:",e.access_token),localStorage.setItem("kakaoAccessToken",e.access_token),window.Kakao.API.request({url:"/v2/user/me",data:{property_keys:["kakao_account.email","kakao_account.profile.nickname"]},success:e=>{console.log(e);const o={id:e.id,email:e.kakao_account.email,nickname:e.kakao_account.profile.nickname};localStorage.setItem("userId",o.nickname),alert(`환영합니다, ${o.nickname}!`),this.$router.push("/")},fail:e=>{console.error("사용자 정보 요청 실패:",e),localStorage.removeItem("kakaoAccessToken")}})},fail:e=>{console.error("카카오 로그인 실패:",e)}})},async handleSubmit(){if(this.isSignUp){if(this.password!==this.confirmPassword)return void(this.errorMessage="비밀번호가 일치하지 않습니다.");if(!this.agreedTerms)return void(this.errorMessage="약관에 동의해야 회원가입이 가능합니다.");try{await f(this.email,this.password),alert("회원가입 성공!"),this.$router.push("/signin")}catch(e){this.errorMessage=e||"회원가입에 실패했습니다."}}else try{await k(this.email,this.password),this.rememberMe?(localStorage.setItem("savedEmail",this.email),localStorage.setItem("savedPassword",this.password),localStorage.setItem("keepLogin","true")):(localStorage.removeItem("savedEmail"),localStorage.removeItem("savedPassword"),localStorage.setItem("keepLogin","false")),alert("로그인 성공!"),this.$router.push("/")}catch(e){this.errorMessage=e||"로그인에 실패했습니다."}},toggleMode(){this.isSignUp=!this.isSignUp,this.$router.push(this.isSignUp?"/signup":"/signin")}},validateEmail(){const e=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;e.test(this.email)||(this.errorMessage="유효한 이메일 형식이 아닙니다.")}};const ht=(0,y.A)(vt,[["render",dt],["__scopeId","data-v-0cfb710e"]]);var gt=ht;const pt=[{path:"/",name:"Home",component:Be},{path:"/popular",name:"PopularMovies",component:bo},{path:"/search",name:"SearchMovies",component:Oo},{path:"/wishlist",name:"WishlistMovies",component:lt},{path:"/movie/:id",name:"MovieDetail",component:ke,props:!0},{path:"/signin",name:"SignIn",component:gt},{path:"/signup",name:"SignUp",component:gt}],mt=(0,_.aE)({history:(0,_.LA)("/netflix-project/"),routes:pt});var kt=mt,ft=(t(3855),t(782)),Mt=(0,ft.y$)({state:{user:null},mutations:{setUser(e,o){e.user=o}},getters:{getUser:e=>e.user}});(0,l.Ef)(T).use(kt,Mt).mount("#app")}},o={};function t(l){var i=o[l];if(void 0!==i)return i.exports;var a=o[l]={exports:{}};return e[l].call(a.exports,a,a.exports,t),a.exports}t.m=e,function(){var e=[];t.O=function(o,l,i,a){if(!l){var s=1/0;for(u=0;u<e.length;u++){l=e[u][0],i=e[u][1],a=e[u][2];for(var n=!0,r=0;r<l.length;r++)(!1&a||s>=a)&&Object.keys(t.O).every((function(e){return t.O[e](l[r])}))?l.splice(r--,1):(n=!1,a<s&&(s=a));if(n){e.splice(u--,1);var c=i();void 0!==c&&(o=c)}}return o}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[l,i,a]}}(),function(){t.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(o,{a:o}),o}}(),function(){t.d=function(e,o){for(var l in o)t.o(o,l)&&!t.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:o[l]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};t.O.j=function(o){return 0===e[o]};var o=function(o,l){var i,a,s=l[0],n=l[1],r=l[2],c=0;if(s.some((function(o){return 0!==e[o]}))){for(i in n)t.o(n,i)&&(t.m[i]=n[i]);if(r)var u=r(t)}for(o&&o(l);c<s.length;c++)a=s[c],t.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return t.O(u)},l=self["webpackChunknetflix_project"]=self["webpackChunknetflix_project"]||[];l.forEach(o.bind(null,0)),l.push=o.bind(null,l.push.bind(l))}();var l=t.O(void 0,[504],(function(){return t(2550)}));l=t.O(l)})();
//# sourceMappingURL=app.560968be.js.map